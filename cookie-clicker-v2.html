<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ladd Clicker</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: #0a0a0a;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(10, 30, 50, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(20, 40, 60, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(15, 35, 55, 0.2) 0%, transparent 50%),
                linear-gradient(to bottom, #0a1a2e 0%, #16213e 50%, #0f1b2e 100%);
            color: #fff;
            overflow: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0px, transparent 1px, transparent 2px, rgba(255,255,255,0.03) 3px),
                repeating-linear-gradient(90deg, rgba(255,255,255,0.03) 0px, transparent 1px, transparent 2px, rgba(255,255,255,0.03) 3px);
            pointer-events: none;
            z-index: 1;
        }

        /* Cookie Clicker Layout: Left (Buildings) | Center (Cookie) | Right (Store/Stats) */
        #game {
            display: flex;
            height: 100vh;
            width: 100vw;
        }

        /* Left Panel - Buildings */
        #leftColumn {
            width: 340px;
            background: linear-gradient(to bottom, rgba(26, 26, 26, 0.95) 0%, rgba(20, 20, 20, 0.95) 100%);
            background-image: 
                repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0px, transparent 1px, transparent 2px),
                repeating-linear-gradient(90deg, rgba(255,255,255,0.02) 0px, transparent 1px, transparent 2px);
            border-right: 1px solid rgba(42, 42, 42, 0.8);
            box-shadow: inset 0 0 30px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
        }

        #buildingsHeader {
            padding: 6px 8px;
            background: linear-gradient(to bottom, #2a2a2a 0%, #1f1f1f 100%);
            border-bottom: 1px solid #3a3a3a;
            border-radius: 3px;
            margin-bottom: 8px;
            font-size: 13px;
            font-weight: 500;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #aaaaaa;
        }

        #buyAmountSelector {
            display: flex;
            gap: 2px;
            padding: 8px;
            background: rgba(0,0,0,0.3);
            border-bottom: 2px solid #1a1a1a;
        }

        .buyAmountBtn {
            flex: 1;
            padding: 8px 4px;
            background: linear-gradient(to bottom, #2a2a2a, #1a1a1a);
            border: 2px solid #3a3a3a;
            border-radius: 4px;
            color: #999;
            font-size: 11px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .buyAmountBtn:hover {
            background: linear-gradient(to bottom, #3a3a3a, #2a2a2a);
            border-color: #4a4a4a;
            color: #bbb;
        }

        .buyAmountBtn.active {
            background: linear-gradient(to bottom, #4a7ea8, #2d4e68);
            border-color: #5a8eb8;
            color: #fff;
            box-shadow: 0 0 12px rgba(74, 126, 168, 0.5);
        }

        #buildingsContainer {
            flex: 1;
            overflow-y: auto;
            padding: 4px;
        }

        #buildingsContainer::-webkit-scrollbar {
            width: 16px;
        }

        #buildingsContainer::-webkit-scrollbar-track {
            background: #0a0a0a;
            border-left: 1px solid #1a1a1a;
        }

        #buildingsContainer::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, #3a3a3a, #2a2a2a);
            border: 2px solid #0a0a0a;
            border-radius: 8px;
        }

        .product {
            position: relative;
            cursor: pointer;
            border: 3px solid #000;
            background-color: #555;
            padding: 0;
            padding-bottom: 8px;
            transition: 0.1s ease-in-out;
            margin-bottom: 6px;
        }

        .product-inner {
            background: linear-gradient(to bottom, #2a2a2a 0%, #222222 100%);
            border: 3px solid #3a3a3a;
            padding: 10px;
            display: flex;
            align-items: center;
            min-height: 56px;
        }

        .product:hover .product-inner {
            background: linear-gradient(to bottom, #3a3a3a 0%, #2f2f2f 100%);
            border-color: #4a4a4a;
        }

        .product.pressed {
            padding-bottom: 0 !important;
            margin-bottom: 14px !important;
            transform: translateY(8px) !important;
        }

        .product.enabled {
            background-color: #264f78;
        }

        .product.enabled .product-inner {
            background: linear-gradient(to bottom, #264f78 0%, #1e3f5f 100%);
            border-color: #3a6ea5;
            box-shadow: 0 0 8px rgba(58, 110, 165, 0.4);
        }

        .product.enabled:hover .product-inner {
            background: linear-gradient(to bottom, #2d5a88 0%, #244a6f 100%);
            border-color: #4a7eb5;
        }

        .product.locked {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .productIcon {
            font-size: 32px;
            margin-right: 12px;
            min-width: 48px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .productInfo {
            flex: 1;
        }

        .productName {
            font-size: 13px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 2px;
        }

        .productPrice {
            font-size: 11px;
            color: #8ab4f8;
            font-weight: 700;
        }

        .productOwned {
            margin-left: auto;
            padding-left: 8px;
            font-size: 20px;
            font-weight: 700;
            color: #8ab4f8;
            text-shadow: 0 0 4px rgba(138, 180, 248, 0.3);
        }

        /* Center Panel - Cookie */
        #centerColumn {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            background: linear-gradient(to bottom, rgba(26, 42, 58, 0.3), rgba(16, 33, 62, 0.5));
        }

        #bakeryName {
            position: absolute;
            top: 20px;
            font-size: 32px;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 0 20px rgba(138, 180, 248, 0.6), 0 4px 8px rgba(0,0,0,0.9);
            background: linear-gradient(to bottom, rgba(26, 26, 26, 0.8), rgba(20, 20, 20, 0.8));
            padding: 16px 40px;
            border-radius: 12px;
            border: 3px solid rgba(74, 126, 168, 0.5);
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
            cursor: pointer;
            transition: all 0.3s;
        }

        #bakeryName:hover {
            border-color: rgba(90, 142, 184, 0.7);
            box-shadow: 0 6px 20px rgba(74, 126, 168, 0.4);
        }

        #cookieCount {
            position: absolute;
            top: 110px;
            font-size: 56px;
            font-weight: 700;
            color: #fff;
            text-shadow: 
                0 0 15px rgba(138, 180, 248, 0.8),
                0 4px 12px rgba(0,0,0,0.9),
                0 2px 6px rgba(0,0,0,0.7);
            white-space: nowrap;
        }

        #cookiePs {
            position: absolute;
            top: 175px;
            font-size: 20px;
            color: #8ab4f8;
            font-weight: 700;
            text-shadow: 0 2px 6px rgba(0,0,0,0.8);
        }

        #cookieContainer {
            position: relative;
            margin-top: 60px;
        }

        #bigCookie {
            width: 280px;
            height: 280px;
            cursor: pointer;
            transition: filter 0.1s;
            filter: drop-shadow(0 12px 32px rgba(0,0,0,0.7));
        }

        #bigCookie:hover {
            filter: drop-shadow(0 12px 40px rgba(138,180,248,0.5));
        }

        @keyframes cookieBounce {
            0% { transform: scale(1); }
            30% { transform: scale(0.92); }
            60% { transform: scale(1.08); }
            80% { transform: scale(0.98); }
            100% { transform: scale(1); }
        }

        /* Ripple effect on click */
        .ripple {
            position: fixed;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(138,180,248,0.4) 0%, transparent 70%);
            pointer-events: none;
            animation: rippleEffect 0.6s ease-out;
            z-index: 999;
        }

        @keyframes rippleEffect {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
            }
            100% {
                width: 300px;
                height: 300px;
                opacity: 0;
            }
        }

        /* Screen shake effect */
        @keyframes shake {
            0%, 100% { transform: translate(0, 0); }
            10%, 30%, 50%, 70%, 90% { transform: translate(-2px, -2px); }
            20%, 40%, 60%, 80% { transform: translate(2px, 2px); }
        }

        .shake {
            animation: shake 0.3s;
        }

        /* Particle burst variations */
        .particle-big {
            animation: particleBigFloat 1.2s ease-out forwards;
        }

        .particle-big img {
            width: 48px !important;
            height: 48px !important;
        }

        @keyframes particleBigFloat {
            0% {
                transform: translate(0, 0) rotate(0deg) scale(1.5);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) rotate(var(--rotation)) scale(0);
                opacity: 0;
            }
        }

        /* Buy effect - small burst */
        .buyBurst {
            position: fixed;
            width: 24px;
            height: 24px;
            background: radial-gradient(circle, rgba(138,180,248,0.8) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            animation: buyBurstEffect 0.4s ease-out;
            z-index: 999;
        }

        @keyframes buyBurstEffect {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(3);
                opacity: 0;
            }
        }

        .buyParticle {
            position: fixed;
            font-size: 20px;
            pointer-events: none;
            animation: buyParticleFloat 0.6s ease-out forwards;
            z-index: 999;
        }

        @keyframes buyParticleFloat {
            0% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) rotate(var(--rotation)) scale(0);
                opacity: 0;
            }
        }

        .fallingLadd {
            position: fixed;
            width: 60px;
            height: 60px;
            pointer-events: none;
            z-index: 998;
            animation: fallDown 1.5s ease-in forwards;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.5));
        }

        @keyframes fallDown {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(calc(100vh + 100px)) rotate(360deg);
                opacity: 0.8;
            }
        }

        .cookieBounce {
            animation: cookieBounce 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        #cursorOrbiter {
            position: absolute;
            top: 50%;
            left: 50%;
            pointer-events: none;
        }

        .cursor-orbit {
            position: absolute;
            width: 40px;
            height: 40px;
            animation: orbit linear infinite;
            transform-origin: center;
        }

        .cursor-orbit img {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
        }

        @keyframes orbit {
            from { transform: rotate(0deg) translateX(160px) rotate(0deg); }
            to { transform: rotate(360deg) translateX(160px) rotate(-360deg); }
        }

        .statsBox {
            position: absolute;
            bottom: 80px;
            background: rgba(0,0,0,0.7);
            padding: 16px 24px;
            border-radius: 8px;
            border: 2px solid #2a2a2a;
            font-size: 13px;
            color: #ccc;
            line-height: 1.8;
        }

        .statsBox strong {
            color: #8ab4f8;
        }

        .milkBar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            overflow: hidden;
        }

        .milk {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(255,255,255,0.3), rgba(255,255,255,0.1));
            transition: height 1s;
            height: 0%;
        }

        /* Right Panel - Store & Stats */
        #rightColumn {
            width: 340px;
            background: linear-gradient(to bottom, rgba(26, 26, 26, 0.95) 0%, rgba(20, 20, 20, 0.95) 100%);
            background-image: 
                repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0px, transparent 1px, transparent 2px),
                repeating-linear-gradient(90deg, rgba(255,255,255,0.02) 0px, transparent 1px, transparent 2px);
            border-left: 1px solid rgba(42, 42, 42, 0.8);
            box-shadow: inset 0 0 30px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
        }

        #storeTabs {
            display: flex;
            background: linear-gradient(to bottom, #2a2a2a 0%, #1f1f1f 100%);
            border-bottom: 1px solid #3a3a3a;
        }

        .storeTab {
            flex: 1;
            padding: 10px;
            text-align: center;
            font-size: 12px;
            font-weight: 500;
            color: #888;
            cursor: pointer;
            background: rgba(0,0,0,0.2);
            border-right: 1px solid #1a1a1a;
            transition: all 0.15s;
        }

        .storeTab:last-child {
            border-right: none;
        }

        .storeTab:hover {
            background: rgba(42, 42, 42, 0.3);
            color: #aaa;
        }

        .storeTab.active {
            background: linear-gradient(to bottom, #264f78 0%, #1e3f5f 100%);
            color: #8ab4f8;
            border-bottom: 2px solid #3a6ea5;
        }

        #storeContent {
            flex: 1;
            overflow-y: auto;
            padding: 8px;
        }

        #storeContent::-webkit-scrollbar {
            width: 14px;
        }

        #storeContent::-webkit-scrollbar-track {
            background: #0f0f0f;
        }

        #storeContent::-webkit-scrollbar-thumb {
            background: #3a3a3a;
            border-radius: 7px;
            border: 2px solid #0f0f0f;
        }

        #storeContent::-webkit-scrollbar-thumb:hover {
            background: #4a4a4a;
        }

        .sectionTitle {
            background: linear-gradient(to bottom, #2a2a2a 0%, #1f1f1f 100%);
            padding: 6px 8px;
            font-size: 13px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #aaaaaa;
            border: 1px solid #3a3a3a;
            border-radius: 3px;
            margin-bottom: 8px;
        }

        .upgradesGrid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }

        .upgrade {
            cursor: pointer;
            border: 3px solid #000;
            background-color: #555;
            padding: 0;
            padding-bottom: 6px;
            transition: 0.1s ease-in-out;
            aspect-ratio: 1;
        }

        .upgrade-inner {
            aspect-ratio: 1;
            background: linear-gradient(to bottom, #2a2a2a 0%, #222222 100%);
            border: 3px solid #3a3a3a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }

        .upgrade:hover .upgrade-inner {
            background: linear-gradient(to bottom, #3a3a3a 0%, #2f2f2f 100%);
            border-color: #4a4a4a;
        }

        .upgrade.pressed {
            padding-bottom: 0 !important;
            margin-bottom: 10px !important;
            transform: translateY(6px) !important;
        }

        .upgrade.enabled {
            background-color: #264f78;
        }

        .upgrade.enabled .upgrade-inner {
            background: linear-gradient(to bottom, #264f78 0%, #1e3f5f 100%);
            border-color: #3a6ea5;
            box-shadow: 0 0 12px rgba(58, 110, 165, 0.5);
        }

        .upgrade.enabled:hover .upgrade-inner {
            background: linear-gradient(to bottom, #2d5a88 0%, #244a6f 100%);
        }

        .upgrade.locked {
            opacity: 0.3;
            cursor: not-allowed;
            filter: grayscale(100%);
        }

        /* Stats Page */
        .statLine {
            padding: 6px 12px;
            margin: 4px 0;
            background: rgba(0,0,0,0.3);
            border-left: 3px solid #2a2a2a;
            font-size: 13px;
            color: #ccc;
        }

        .statLine strong {
            color: #8ab4f8;
        }

        .achievementGrid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 6px;
            margin: 12px 0;
        }

        .achievement {
            aspect-ratio: 1;
            background: linear-gradient(to bottom, #2a2a2a, #1a1a1a);
            border: 2px solid #3a3a3a;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .achievement.unlocked {
            background: linear-gradient(to bottom, #4a4a3a, #3a3a2a);
            border-color: #6a6a4a;
            box-shadow: 0 0 8px rgba(212, 175, 55, 0.3);
        }

        .achievement.locked {
            opacity: 0.2;
            filter: grayscale(100%);
        }

        /* Options Page */
        .optionGroup {
            margin: 20px 0;
        }

        .optionLabel {
            font-size: 14px;
            font-weight: 700;
            color: #8ab4f8;
            margin-bottom: 8px;
        }

        .optionInput {
            width: 100%;
            padding: 12px;
            background: rgba(0,0,0,0.4);
            border: 2px solid #3a3a3a;
            border-radius: 6px;
            color: #fff;
            font-size: 14px;
            font-family: 'Merriweather', serif;
        }

        .optionInput:focus {
            outline: none;
            border-color: #4a7ea8;
            box-shadow: 0 0 8px rgba(74, 126, 168, 0.3);
        }

        .button {
            width: 100%;
            padding: 12px;
            margin: 6px 0;
            background: linear-gradient(to bottom, #4a7ea8, #2d4e68);
            border: 2px solid #5a8eb8;
            border-radius: 6px;
            color: #fff;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }

        .button:hover {
            background: linear-gradient(to bottom, #5a8eb8, #3d5e78);
            box-shadow: 0 0 12px rgba(74, 126, 168, 0.5);
        }

        .button.danger {
            background: linear-gradient(to bottom, #a84a4a, #682d2d);
            border-color: #b85a5a;
        }

        .button.danger:hover {
            background: linear-gradient(to bottom, #b85a5a, #783d3d);
        }

        /* Golden Cookie */
        .goldenCookie {
            position: fixed;
            width: 96px;
            height: 96px;
            cursor: pointer;
            z-index: 1000;
            filter: drop-shadow(0 0 20px gold) brightness(1.5) saturate(2);
            animation: goldenShimmer 1s infinite;
        }

        @keyframes goldenShimmer {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Particles */
        .particle {
            position: fixed;
            pointer-events: none;
            z-index: 999;
        }

        .particle img {
            width: 36px;
            height: 36px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
        }

        @keyframes particleFloat {
            0% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) rotate(var(--rotation)) scale(0);
                opacity: 0;
            }
        }

        .particleFloat {
            animation: particleFloat 1s ease-out forwards;
        }

        .floatingText {
            position: fixed;
            font-size: 28px;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 2px 8px rgba(0,0,0,0.9);
            pointer-events: none;
            z-index: 999;
            animation: floatUp 1s ease-out forwards;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateY(-120px);
                opacity: 0;
            }
        }

        /* Buff Timer */
        .buffTimer {
            position: fixed;
            top: 90px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(20, 20, 20, 0.95);
            padding: 14px 28px;
            border-radius: 8px;
            border: 3px solid;
            font-size: 18px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
            z-index: 100;
            animation: timerPulse 1s ease-in-out infinite;
        }

        .buffTimer.frenzy {
            border-color: #ff4444;
            color: #ff6666;
            box-shadow: 0 0 24px rgba(255, 68, 68, 0.6);
        }

        .buffTimer.clickFrenzy {
            border-color: #ffaa00;
            color: #ffcc44;
            box-shadow: 0 0 24px rgba(255, 170, 0, 0.6);
        }

        @keyframes timerPulse {
            0%, 100% {
                opacity: 1;
                transform: translateX(-50%) scale(1);
            }
            50% {
                opacity: 0.85;
                transform: translateX(-50%) scale(1.05);
            }
        }

        /* Disco Ladds */
        .discoLadd {
            position: fixed;
            width: 80px;
            height: 80px;
            pointer-events: none;
            z-index: 50;
            animation: discoSpin 2s linear infinite, discoFloat 3s ease-in-out infinite;
            filter: drop-shadow(0 0 12px var(--glow-color));
        }

        @keyframes discoSpin {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.2); }
            50% { transform: rotate(180deg) scale(1); }
            75% { transform: rotate(270deg) scale(0.8); }
            100% { transform: rotate(360deg) scale(1); }
        }

        @keyframes discoFloat {
            0%, 100% { transform: translateY(0) translateX(0); }
            25% { transform: translateY(-30px) translateX(20px); }
            50% { transform: translateY(0) translateX(-20px); }
            75% { transform: translateY(30px) translateX(20px); }
        }

        /* Tooltip */
        .tooltip {
            position: fixed;
            background: rgba(10, 10, 10, 0.98);
            border: 2px solid #3a3a3a;
            border-radius: 6px;
            padding: 12px;
            max-width: 280px;
            z-index: 10000;
            pointer-events: none;
            box-shadow: 0 4px 16px rgba(0,0,0,0.8);
        }

        .tooltipTitle {
            font-size: 15px;
            font-weight: 700;
            color: #8ab4f8;
            margin-bottom: 6px;
        }

        .tooltipDesc {
            font-size: 12px;
            color: #ccc;
            line-height: 1.5;
            margin-bottom: 4px;
        }

        .tooltipPrice {
            font-size: 13px;
            font-weight: 700;
            color: #8ab4f8;
            margin-top: 6px;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(20, 20, 20, 0.95);
            border: 2px solid #4a4a4a;
            border-left: 4px solid #8ab4f8;
            border-radius: 6px;
            padding: 14px 20px;
            max-width: 320px;
            z-index: 10000;
            box-shadow: 0 4px 16px rgba(0,0,0,0.8);
            animation: slideIn 0.3s ease-out, slideOut 0.3s ease-in 2.7s;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        .notificationTitle {
            font-size: 15px;
            font-weight: 700;
            color: #8ab4f8;
            margin-bottom: 4px;
        }

        .notificationDesc {
            font-size: 13px;
            color: #ccc;
        }
    </style>
</head>
<body>
    <div id="game">
        <!-- Left Column: Buildings -->
        <div id="leftColumn">
            <div id="buildingsHeader">üè¢ Buildings</div>
            <div id="buyAmountSelector">
                <div class="buyAmountBtn active" onclick="setBuyAmount(1)">Buy 1</div>
                <div class="buyAmountBtn" onclick="setBuyAmount(10)">Buy 10</div>
                <div class="buyAmountBtn" onclick="setBuyAmount(100)">Buy 100</div>
                <div class="buyAmountBtn" onclick="setBuyAmount('max')">Buy Max</div>
            </div>
            <div id="buildingsContainer"></div>
        </div>

        <!-- Center Column: Cookie -->
        <div id="centerColumn">
            <div id="bakeryName" onclick="editBakeryName()">Ladd's Bakery</div>
            <div id="cookieCount">0</div>
            <div id="cookiePs">per second: 0</div>
            
            <div id="cookieContainer">
                <div id="cursorOrbiter"></div>
                <img src="https://github.com/westval/cookie-clicker-assets/blob/main/image-removebg-preview.png?raw=true" 
                     id="bigCookie" alt="Cookie!" draggable="false" onclick="clickCookie(event)">
            </div>

            <div class="statsBox">
                <div>Cookies per click: <strong id="cpc">1</strong></div>
                <div>Buildings owned: <strong id="totalBuildings">0</strong></div>
            </div>

            <div class="milkBar">
                <div class="milk" id="milkLevel"></div>
            </div>
        </div>

        <!-- Right Column: Store & Stats -->
        <div id="rightColumn">
            <div id="storeTabs">
                <div class="storeTab" onclick="switchTab('prestige')">‚≠ê Prestige</div>
                <div class="storeTab active" onclick="switchTab('store')">üõí Store</div>
                <div class="storeTab" onclick="switchTab('stats')">üìä Stats</div>
                <div class="storeTab" onclick="switchTab('options')">‚öôÔ∏è Options</div>
            </div>
            <div id="storeContent">
                <!-- Prestige Tab -->
                <div id="prestigeTab" class="tabContent" style="display: none;">
                    <div class="sectionTitle">‚≠ê PRESTIGE SYSTEM ‚≠ê</div>
                    <div class="prestigeInfo">
                        <div class="statLine" style="font-size: 20px; color: #ffd700; font-weight: bold;">
                            Prestige Level: <span id="prestigeLevelDisplay">0</span>
                        </div>
                        <div class="statLine" style="font-size: 18px; color: #ffaa00;">
                            Heavenly Chips: <span id="heavenlyChipsDisplay">0</span>
                        </div>
                        <div class="statLine" style="font-size: 16px; color: #8ab4f8;">
                            Prestige Multiplier: <span id="prestigeMultiplierDisplay">√ó1.00</span>
                        </div>
                    </div>
                    
                    <div class="prestigeDescription" style="margin: 20px 0; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px; font-size: 14px; line-height: 1.6;">
                        <strong style="color: #ffd700;">What is Prestige?</strong><br>
                        Prestiging will reset your game progress, but you'll gain <strong style="color: #ffaa00;">Heavenly Chips</strong> based on your total cookies baked!<br><br>
                        <strong style="color: #90ee90;">Benefits:</strong><br>
                        ‚Ä¢ Each Heavenly Chip gives a permanent <strong>+1%</strong> bonus to CpS<br>
                        ‚Ä¢ Unlock special prestige upgrades<br>
                        ‚Ä¢ Show off your prestige level!<br><br>
                        <strong style="color: #ff6b6b;">What you'll lose:</strong><br>
                        ‚Ä¢ All cookies<br>
                        ‚Ä¢ All buildings<br>
                        ‚Ä¢ All non-prestige upgrades<br><br>
                        <strong style="color: #ffd700;">You will gain: <span id="prestigeGainPreview">0</span> Heavenly Chips</strong>
                    </div>
                    
                    <button id="prestigeButton" style="
                        width: 100%;
                        padding: 20px;
                        font-size: 24px;
                        font-weight: bold;
                        background: linear-gradient(135deg, #ffd700 0%, #ffaa00 100%);
                        color: #000;
                        border: 4px solid #fff;
                        border-radius: 12px;
                        cursor: pointer;
                        text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
                        box-shadow: 0 6px 20px rgba(255,215,0,0.4);
                        transition: all 0.3s;
                    " onclick="doPrestige()">
                        üåü ASCEND AND PRESTIGE üåü
                    </button>
                    
                    <div class="sectionTitle" style="margin-top: 30px;">üéÅ Prestige Upgrades</div>
                    <div id="prestigeUpgradesContainer" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; padding: 10px;"></div>
                </div>

                <!-- Store Tab -->
                <div id="storeTab" class="tabContent">
                    <div class="sectionTitle">‚¨ÜÔ∏è Upgrades</div>
                    <div class="upgradesGrid" id="upgradesContainer"></div>
                </div>

                <!-- Stats Tab -->
                <div id="statsTab" class="tabContent" style="display: none;">
                    <div class="sectionTitle">üìä General Statistics</div>
                    <div class="statLine">Cookies in bank: <strong id="stat-cookies">0</strong></div>
                    <div class="statLine">Cookies baked (this run): <strong id="stat-thisRun">0</strong></div>
                    <div class="statLine">Cookies baked (all time): <strong id="stat-allTime">0</strong></div>
                    <div class="statLine">Cookies per second: <strong id="stat-cps">0</strong></div>
                    <div class="statLine">Cookies per click: <strong id="stat-click">1</strong></div>
                    <div class="statLine">Cookie clicks: <strong id="stat-clicks">0</strong></div>
                    <div class="statLine">Hand-made cookies: <strong id="stat-handmade">0</strong></div>
                    <div class="statLine">Golden Ladds clicked: <strong id="stat-golden">0</strong></div>
                    <div class="statLine">Buildings owned: <strong id="stat-buildings">0</strong></div>
                    
                    <div class="sectionTitle">üèÜ Achievements (<span id="achievementCount">0</span>/<span id="achievementTotal">0</span>)</div>
                    <div class="achievementGrid" id="achievementsContainer"></div>
                </div>

                <!-- Options Tab -->
                <div id="optionsTab" class="tabContent" style="display: none;">
                    <div class="optionGroup">
                        <div class="optionLabel">üè™ Bakery Name</div>
                        <input type="text" class="optionInput" id="bakeryNameInput" value="Ladd's Bakery" maxlength="30" onchange="renameBakery(this.value)">
                    </div>

                    <div class="optionGroup">
                        <div class="optionLabel">üíæ Save Management</div>
                        <button class="button" onclick="saveGame()">üíæ Save Game</button>
                        <button class="button" onclick="exportSave()">üì§ Export Save</button>
                        <button class="button" onclick="importSave()">üì• Import Save</button>
                        <button class="button danger" onclick="if(confirm('Delete everything?')) resetGame()">üóëÔ∏è Wipe Save</button>
                    </div>

                    <div class="optionGroup">
                        <div class="optionLabel">üîß Admin Panel</div>
                        <input type="password" class="optionInput" id="adminPassword" placeholder="Enter code..." onchange="checkAdminCode(this.value)">
                        <div id="adminPanel" style="display: none; margin-top: 12px;">
                            <input type="number" class="optionInput" id="adminCookies" value="1000000" placeholder="Cookie amount">
                            <button class="button" onclick="adminAddCookies()" style="margin-top: 8px;">‚ú® Add Cookies</button>
                            <button class="button" onclick="adminTriggerFrenzy()">üî• Trigger Frenzy</button>
                            <button class="button" onclick="adminTriggerClickFrenzy()">üëÜ Trigger Click Frenzy</button>
                            <button class="button" onclick="spawnGoldenCookie()">‚ú® Spawn Golden Ladd</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game State
        let gameState = {
            cookies: 0,
            totalCookies: 0,
            cookiesPerSecond: 0,
            clickPower: 1,
            totalClicks: 0,
            handMade: 0,
            buildings: {},
            upgrades: {},
            achievements: {},
            prestigeLevel: 0,
            heavenlyChips: 0,
            buildingMultipliers: {},
            globalMultiplier: 1,
            goldenMultiplier: 1,
            goldenMultiplierExpires: 0,
            frenzyMultiplier: 1,
            frenzyExpires: 0,
            goldenClicks: 0,
            bakeryName: "Ladd's Bakery",
            buyAmount: 1,
            adminUnlocked: false
        };

        // Buildings
        const buildings = [
            { id: 'cursor', name: 'Ladd Shack', icon: 'üèöÔ∏è', description: 'A tiny hut where Nathan mutters productivity spells', baseCost: 15, cps: 0.1 },
            { id: 'grandma', name: "Nathan's Noise Factory", icon: 'üì¢', description: 'Produces resources by being loud for no reason', baseCost: 100, cps: 1 },
            { id: 'farm', name: "Ladd's Sock Museum", icon: 'üß¶', description: 'Displays every sock he has ever lost. Generates confusion', baseCost: 1100, cps: 8 },
            { id: 'mine', name: "Nathan Clone Farm", icon: 'üë®', description: 'Grows fresh Nathans weekly. They scream when ripe', baseCost: 12000, cps: 47 },
            { id: 'factory', name: 'Ladd Laboratory of Questionable Science', icon: 'üî¨', description: 'Zero safety rules. Infinite output', baseCost: 130000, cps: 260 },
            { id: 'bank', name: "Nathan's Burrito Observatory", icon: 'üåØ', description: 'Studies burritos for "cosmic secrets"', baseCost: 1400000, cps: 1400 },
            { id: 'temple', name: 'Ladd Tower of Mild Inconvenience', icon: 'üóº', description: 'Annoys enemies until they give up', baseCost: 20000000, cps: 7800 },
            { id: 'wizard', name: "Nathan's Gravity-Free Basement", icon: 'üåÄ', description: 'Objects float. Productivity too, somehow', baseCost: 330000000, cps: 44000 },
            { id: 'shipment', name: "Ladd's Interdimensional Drive-Thru", icon: 'üöó', description: 'Serves customers who don\'t exist. Still profitable', baseCost: 5100000000, cps: 260000 },
            { id: 'alchemy', name: "Nathan's Spaghetti Reactor", icon: 'üçù', description: 'Converts noodles into pure energy. Sometimes explodes', baseCost: 75000000000, cps: 1600000 },
            { id: 'portal', name: "Ladd's Clone Recycling Center", icon: '‚ôªÔ∏è', description: 'Recycles defective Nathans into semi-defective ones', baseCost: 1000000000000, cps: 10000000 },
            { id: 'timemachine', name: "Nathan's Screaming Library", icon: 'üìö', description: 'Books yell the information at you', baseCost: 14000000000000, cps: 65000000 },
            { id: 'antimatter', name: "Ladd's Portal Garage", icon: 'üåå', description: 'Every car drives into another universe. Great reviews though', baseCost: 170000000000000, cps: 430000000 },
            { id: 'prism', name: "Nathan's Orb Hatchery", icon: 'üîÆ', description: 'Grows mysterious glowing orbs. None of them safe', baseCost: 2100000000000000, cps: 2900000000 },
            { id: 'chancemaker', name: "Ladd's Infinite Bathroom", icon: 'üöΩ', description: 'Has been flushing for 3 years straight. Infinite water somehow', baseCost: 26000000000000000, cps: 21000000000 },
            { id: 'fractal', name: "Nathan's Fractal Engine", icon: 'üåÄ', description: 'Each part contains the whole. Produces infinite Ladds', baseCost: 310000000000000000, cps: 150000000000 },
            { id: 'javascript', name: "Ladd's JavaScript Console", icon: 'üíª', description: 'console.log("making cookies"). It just works', baseCost: 71000000000000000000, cps: 1100000000000 },
            { id: 'idleverse', name: "Nathan's Idleverse", icon: 'ü™ê', description: 'An entire universe dedicated to being productive while idle', baseCost: 12000000000000000000000, cps: 8300000000000 },
            { id: 'cortex', name: "Ladd's Cortex Baker", icon: 'üß†', description: 'Bakes cookies using pure thought. Gives you a headache', baseCost: 1900000000000000000000000, cps: 64000000000000 },
            { id: 'you', name: "You", icon: 'üòé', description: 'The ultimate producer. It\'s you. You\'re doing great', baseCost: 540000000000000000000000000, cps: 510000000000000 }
        ];

        // Upgrades - 300+ upgrades!
        const upgrades = [];
        
        // Click power upgrades - Original creative ones!
        upgrades.push(
            { id: 'click1', name: "Nathan Ladd's Left Sock", icon: 'üß¶', description: 'Grants +1 luck but only if the right sock is missing. Clicking power √ó2', cost: 100, effect: () => { gameState.clickPower *= 2; }, requires: () => true },
            { id: 'click2', name: "Super Ladd Slap", icon: 'üëã', description: 'Nathan slaps the air so hard production increases out of fear. Clicking power √ó2', cost: 500, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click1 },
            { id: 'click3', name: "Nathan's Microwave Brainwave", icon: 'üìª', description: 'He sticks his head near the microwave for "ideas." Clicking power √ó2', cost: 10000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click2 },
            { id: 'click4', name: "Ladd's Quantum Toaster", icon: 'üçû', description: 'Toasts bread and sometimes your save file. Clicking power √ó2', cost: 100000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click3 },
            { id: 'click5', name: "Nathan's Caffeinated Eyeball", icon: 'üëÅÔ∏è', description: 'It blinks twice per second. Terrifying and effective. Clicking power √ó2', cost: 1000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click4 },
            { id: 'click6', name: "Ladd's Power Finger", icon: '‚òùÔ∏è', description: 'One finger to rule them all. Clicking power √ó2', cost: 10000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click5 },
            { id: 'click7', name: "Nathan's Click Amplifier", icon: 'üì°', description: 'Makes every click echo through reality. Clicking power √ó2', cost: 100000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click6 },
            { id: 'click8', name: "Ladd's Turbo Mouse", icon: 'üñ±Ô∏è', description: 'Sponsored by nobody. Clicking power √ó2', cost: 1000000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click7 },
            { id: 'click9', name: "Nathan's Bionic Hand", icon: 'ü¶æ', description: 'Half man, half machine, all clicking. Clicking power √ó2', cost: 10000000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click8 },
            { id: 'click10', name: "Ladd's Click Multiplexer", icon: '‚ö°', description: 'One click becomes many. Clicking power √ó2', cost: 100000000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click9 },
            { id: 'click11', name: "Nathan's Astral Pointer", icon: 'üëª', description: 'Clicks from the spirit realm. Clicking power √ó2', cost: 1000000000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click10 },
            { id: 'click12', name: "Ladd's Time-Frozen Click", icon: '‚è∞', description: 'Clicks exist outside time. Clicking power √ó2', cost: 10000000000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click11 },
            { id: 'click13', name: "Nathan's Quantum Click", icon: '‚öõÔ∏è', description: 'Clicks and doesn\'t click simultaneously. Clicking power √ó2', cost: 100000000000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click12 },
            { id: 'click14', name: "Ladd's Universal Clicker", icon: 'üåå', description: 'Every click echoes across the cosmos. Clicking power √ó2', cost: 1000000000000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click13 },
            { id: 'click15', name: "Nathan's Omnipotent Tap", icon: 'üíé', description: 'The ultimate click. Reality bends. Clicking power √ó2', cost: 10000000000000000, effect: () => { gameState.clickPower *= 2; }, requires: () => gameState.upgrades.click14 }
        );

        // Building-specific upgrades - Creative themed upgrades!
        
        // Ladd Shack (cursor) upgrades
        upgrades.push(
            { id: 'cursor1', name: "Nathan's Invisible Chair", icon: 'üí∫', description: 'He sits on nothing. Efficiency skyrockets. Ladd Shacks are twice as efficient', cost: 100, effect: () => { gameState.buildingMultipliers['cursor'] = (gameState.buildingMultipliers['cursor'] || 1) * 2; }, requires: () => (gameState.buildings.cursor || 0) >= 1 },
            { id: 'cursor2', name: "Ladd Slime Clone", icon: 'üü¢', description: 'A goo version of Nathan helps‚Ä¶ kind of. Mostly oozes around. Ladd Shacks are twice as efficient', cost: 500, effect: () => { gameState.buildingMultipliers['cursor'] = (gameState.buildingMultipliers['cursor'] || 1) * 2; }, requires: () => (gameState.buildings.cursor || 0) >= 5 },
            { id: 'cursor3', name: "Nathan's Motivational Shriek", icon: 'üò±', description: 'He screams "BE BETTER" at the shacks daily. Ladd Shacks are twice as efficient', cost: 5000, effect: () => { gameState.buildingMultipliers['cursor'] = (gameState.buildingMultipliers['cursor'] || 1) * 2; }, requires: () => (gameState.buildings.cursor || 0) >= 10 },
            { id: 'cursor4', name: "Ladd's Power Nap Protocol", icon: 'üò¥', description: 'Sleep-working is 47% more effective. Ladd Shacks are twice as efficient', cost: 50000, effect: () => { gameState.buildingMultipliers['cursor'] = (gameState.buildingMultipliers['cursor'] || 1) * 2; }, requires: () => (gameState.buildings.cursor || 0) >= 25 },
            { id: 'cursor5', name: "Nathan's Turbo Typing Fingers", icon: '‚å®Ô∏è', description: 'Types so fast the keyboard melts. Ladd Shacks are twice as efficient', cost: 500000, effect: () => { gameState.buildingMultipliers['cursor'] = (gameState.buildingMultipliers['cursor'] || 1) * 2; }, requires: () => (gameState.buildings.cursor || 0) >= 50 }
        );
        
        // Noise Factory (grandma) upgrades
        upgrades.push(
            { id: 'grandma1', name: "Nathan's Forbidden Chicken Nugget", icon: 'üçó', description: 'Increases speed but haunts you at night. Noise Factories are twice as efficient', cost: 1000, effect: () => { gameState.buildingMultipliers['grandma'] = (gameState.buildingMultipliers['grandma'] || 1) * 2; }, requires: () => (gameState.buildings.grandma || 0) >= 1 },
            { id: 'grandma2', name: "Ladd's Pocket Dimension of Bees", icon: 'üêù', description: "You don't want to open it. Output somehow goes up. Noise Factories are twice as efficient", cost: 5000, effect: () => { gameState.buildingMultipliers['grandma'] = (gameState.buildingMultipliers['grandma'] || 1) * 2; }, requires: () => (gameState.buildings.grandma || 0) >= 5 },
            { id: 'grandma3', name: "Nathan's Megaphone of Destiny", icon: 'üì£', description: "It's always on. There is no off switch. Noise Factories are twice as efficient", cost: 50000, effect: () => { gameState.buildingMultipliers['grandma'] = (gameState.buildingMultipliers['grandma'] || 1) * 2; }, requires: () => (gameState.buildings.grandma || 0) >= 10 },
            { id: 'grandma4', name: "Ladd's Echo Chamber 3000", icon: 'üîä', description: "Amplifies everything. Including mistakes. Noise Factories are twice as efficient", cost: 500000, effect: () => { gameState.buildingMultipliers['grandma'] = (gameState.buildingMultipliers['grandma'] || 1) * 2; }, requires: () => (gameState.buildings.grandma || 0) >= 25 },
            { id: 'grandma5', name: "Nathan's Infinite Airhorn", icon: 'üìØ', description: "Powered by rage and determination. Noise Factories are twice as efficient", cost: 5000000, effect: () => { gameState.buildingMultipliers['grandma'] = (gameState.buildingMultipliers['grandma'] || 1) * 2; }, requires: () => (gameState.buildings.grandma || 0) >= 50 }
        );
        
        // Sock Museum (farm) upgrades
        upgrades.push(
            { id: 'farm1', name: "Nathan's Extra Elbow", icon: 'üí™', description: 'Gives him impossible clicking angles. Sock Museums are twice as efficient', cost: 11000, effect: () => { gameState.buildingMultipliers['farm'] = (gameState.buildingMultipliers['farm'] || 1) * 2; }, requires: () => (gameState.buildings.farm || 0) >= 1 },
            { id: 'farm2', name: "Ladd's Screaming Shoes", icon: 'üëü', description: "They scream every step. Terrible. Effective. Sock Museums are twice as efficient", cost: 55000, effect: () => { gameState.buildingMultipliers['farm'] = (gameState.buildingMultipliers['farm'] || 1) * 2; }, requires: () => (gameState.buildings.farm || 0) >= 5 },
            { id: 'farm3', name: "Nathan's Sock Detector 3000", icon: 'üîç', description: "Finds socks in other dimensions. Sock Museums are twice as efficient", cost: 550000, effect: () => { gameState.buildingMultipliers['farm'] = (gameState.buildingMultipliers['farm'] || 1) * 2; }, requires: () => (gameState.buildings.farm || 0) >= 10 },
            { id: 'farm4', name: "Ladd's Sock Teleporter", icon: 'üåÄ', description: "Socks materialize from the void. Sock Museums are twice as efficient", cost: 5500000, effect: () => { gameState.buildingMultipliers['farm'] = (gameState.buildingMultipliers['farm'] || 1) * 2; }, requires: () => (gameState.buildings.farm || 0) >= 25 },
            { id: 'farm5', name: "Nathan's Sock Cloning Vat", icon: 'üß¨', description: "One sock becomes many. Sock Museums are twice as efficient", cost: 55000000, effect: () => { gameState.buildingMultipliers['farm'] = (gameState.buildingMultipliers['farm'] || 1) * 2; }, requires: () => (gameState.buildings.farm || 0) >= 50 }
        );
        
        // Nathan Clone Farm (mine) upgrades
        upgrades.push(
            { id: 'mine1', name: "Nathan's Toenail of Destiny", icon: 'üíÖ', description: 'Generates 0.0001 more resources. Still worth it. Clone Farms are twice as efficient', cost: 120000, effect: () => { gameState.buildingMultipliers['mine'] = (gameState.buildingMultipliers['mine'] || 1) * 2; }, requires: () => (gameState.buildings.mine || 0) >= 1 },
            { id: 'mine2', name: "Ladd's Growth Hormone (Expired)", icon: 'üíâ', description: 'Makes clones grow faster. Side effects unknown. Clone Farms are twice as efficient', cost: 600000, effect: () => { gameState.buildingMultipliers['mine'] = (gameState.buildingMultipliers['mine'] || 1) * 2; }, requires: () => (gameState.buildings.mine || 0) >= 5 },
            { id: 'mine3', name: "Nathan's Clone Motivator", icon: 'üéØ', description: 'Teaches clones to be productive. Clone Farms are twice as efficient', cost: 6000000, effect: () => { gameState.buildingMultipliers['mine'] = (gameState.buildingMultipliers['mine'] || 1) * 2; }, requires: () => (gameState.buildings.mine || 0) >= 10 },
            { id: 'mine4', name: "Ladd's Personality Matrix", icon: 'üß†', description: 'Clones inherit key traits. Clone Farms are twice as efficient', cost: 60000000, effect: () => { gameState.buildingMultipliers['mine'] = (gameState.buildingMultipliers['mine'] || 1) * 2; }, requires: () => (gameState.buildings.mine || 0) >= 25 },
            { id: 'mine5', name: "Nathan's Clone Accelerator", icon: '‚ö°', description: 'Doubles clone speed. Clone Farms are twice as efficient', cost: 600000000, effect: () => { gameState.buildingMultipliers['mine'] = (gameState.buildingMultipliers['mine'] || 1) * 2; }, requires: () => (gameState.buildings.mine || 0) >= 50 }
        );
        
        // Laboratory (factory) upgrades
        upgrades.push(
            { id: 'factory1', name: "Ladd's Orb of Mild Confusion", icon: 'üîÆ', description: 'Everyone forgets what they\'re doing but works faster. Laboratories are twice as efficient', cost: 1300000, effect: () => { gameState.buildingMultipliers['factory'] = (gameState.buildingMultipliers['factory'] || 1) * 2; }, requires: () => (gameState.buildings.factory || 0) >= 1 },
            { id: 'factory2', name: "Nathan's Safety Goggles (Decorative)", icon: 'ü•Ω', description: 'They provide zero protection but boost morale. Laboratories are twice as efficient', cost: 6500000, effect: () => { gameState.buildingMultipliers['factory'] = (gameState.buildingMultipliers['factory'] || 1) * 2; }, requires: () => (gameState.buildings.factory || 0) >= 5 },
            { id: 'factory3', name: "Ladd's Quantum Calculator", icon: 'üßÆ', description: 'Calculates impossible equations. Laboratories are twice as efficient', cost: 65000000, effect: () => { gameState.buildingMultipliers['factory'] = (gameState.buildingMultipliers['factory'] || 1) * 2; }, requires: () => (gameState.buildings.factory || 0) >= 10 },
            { id: 'factory4', name: "Nathan's Beaker of Mystery", icon: '‚öóÔ∏è', description: 'Contents unknown. Results excellent. Laboratories are twice as efficient', cost: 650000000, effect: () => { gameState.buildingMultipliers['factory'] = (gameState.buildingMultipliers['factory'] || 1) * 2; }, requires: () => (gameState.buildings.factory || 0) >= 25 },
            { id: 'factory5', name: "Ladd's Particle Accelerator", icon: 'üåå', description: 'Speeds up science itself. Laboratories are twice as efficient', cost: 6500000000, effect: () => { gameState.buildingMultipliers['factory'] = (gameState.buildingMultipliers['factory'] || 1) * 2; }, requires: () => (gameState.buildings.factory || 0) >= 50 }
        );
        
        // Burrito Observatory (bank) upgrades
        upgrades.push(
            { id: 'bank1', name: "Ladd's Burrito Telescope", icon: 'üî≠', description: 'Sees deeper into burrito space-time. Observatories are twice as efficient', cost: 14000000, effect: () => { gameState.buildingMultipliers['bank'] = (gameState.buildingMultipliers['bank'] || 1) * 2; }, requires: () => (gameState.buildings.bank || 0) >= 1 },
            { id: 'bank2', name: "Nathan's Hot Sauce of Enlightenment", icon: 'üå∂Ô∏è', description: 'Makes researchers see truth. And cry. Observatories are twice as efficient', cost: 70000000, effect: () => { gameState.buildingMultipliers['bank'] = (gameState.buildingMultipliers['bank'] || 1) * 2; }, requires: () => (gameState.buildings.bank || 0) >= 5 },
            { id: 'bank3', name: "Ladd's Salsa Spectrometer", icon: 'ü•ó', description: 'Analyzes salsa composition. Observatories are twice as efficient', cost: 700000000, effect: () => { gameState.buildingMultipliers['bank'] = (gameState.buildingMultipliers['bank'] || 1) * 2; }, requires: () => (gameState.buildings.bank || 0) >= 10 },
            { id: 'bank4', name: "Nathan's Guacamole Generator", icon: 'ü•ë', description: 'Produces unlimited guac. Observatories are twice as efficient', cost: 7000000000, effect: () => { gameState.buildingMultipliers['bank'] = (gameState.buildingMultipliers['bank'] || 1) * 2; }, requires: () => (gameState.buildings.bank || 0) >= 25 },
            { id: 'bank5', name: "Ladd's Tortilla Transmitter", icon: 'üì°', description: 'Broadcasts burrito data galaxy-wide. Observatories are twice as efficient', cost: 70000000000, effect: () => { gameState.buildingMultipliers['bank'] = (gameState.buildingMultipliers['bank'] || 1) * 2; }, requires: () => (gameState.buildings.bank || 0) >= 50 }
        );
        
        // Tower of Inconvenience (temple) upgrades
        upgrades.push(
            { id: 'temple1', name: "Nathan's Annoying Bell", icon: 'üîî', description: 'Rings at random intervals. Towers are twice as efficient', cost: 200000000, effect: () => { gameState.buildingMultipliers['temple'] = (gameState.buildingMultipliers['temple'] || 1) * 2; }, requires: () => (gameState.buildings.temple || 0) >= 1 },
            { id: 'temple2', name: "Ladd's Slightly Sticky Floor", icon: 'ü¶∂', description: 'Just annoying enough to work. Towers are twice as efficient', cost: 1000000000, effect: () => { gameState.buildingMultipliers['temple'] = (gameState.buildingMultipliers['temple'] || 1) * 2; }, requires: () => (gameState.buildings.temple || 0) >= 5 },
            { id: 'temple3', name: "Nathan's Itchy Fabric", icon: 'üßµ', description: 'Covers all surfaces. Towers are twice as efficient', cost: 10000000000, effect: () => { gameState.buildingMultipliers['temple'] = (gameState.buildingMultipliers['temple'] || 1) * 2; }, requires: () => (gameState.buildings.temple || 0) >= 10 },
            { id: 'temple4', name: "Ladd's Perpetual Drip", icon: 'üíß', description: 'Water drips. Forever. Towers are twice as efficient', cost: 100000000000, effect: () => { gameState.buildingMultipliers['temple'] = (gameState.buildingMultipliers['temple'] || 1) * 2; }, requires: () => (gameState.buildings.temple || 0) >= 25 },
            { id: 'temple5', name: "Nathan's Auto-Disagreer", icon: 'üôÖ', description: 'Says no to everything. Towers are twice as efficient', cost: 1000000000000, effect: () => { gameState.buildingMultipliers['temple'] = (gameState.buildingMultipliers['temple'] || 1) * 2; }, requires: () => (gameState.buildings.temple || 0) >= 50 }
        );
        
        // Gravity-Free Basement (wizard) upgrades
        upgrades.push(
            { id: 'wizard1', name: "Ladd's Anti-Gravity Boots", icon: 'üë¢', description: 'Walk on ceiling. Basements are twice as efficient', cost: 3300000000, effect: () => { gameState.buildingMultipliers['wizard'] = (gameState.buildingMultipliers['wizard'] || 1) * 2; }, requires: () => (gameState.buildings.wizard || 0) >= 1 },
            { id: 'wizard2', name: "Nathan's Floating Desk", icon: 'ü™ë', description: 'Productivity defies physics. Basements are twice as efficient', cost: 16500000000, effect: () => { gameState.buildingMultipliers['wizard'] = (gameState.buildingMultipliers['wizard'] || 1) * 2; }, requires: () => (gameState.buildings.wizard || 0) >= 5 },
            { id: 'wizard3', name: "Ladd's Levitation License", icon: 'üìú', description: 'Now it\'s officially legal. Basements are twice as efficient', cost: 165000000000, effect: () => { gameState.buildingMultipliers['wizard'] = (gameState.buildingMultipliers['wizard'] || 1) * 2; }, requires: () => (gameState.buildings.wizard || 0) >= 10 },
            { id: 'wizard4', name: "Nathan's Weightless Water", icon: 'üí¶', description: 'Hydration without gravity. Basements are twice as efficient', cost: 1650000000000, effect: () => { gameState.buildingMultipliers['wizard'] = (gameState.buildingMultipliers['wizard'] || 1) * 2; }, requires: () => (gameState.buildings.wizard || 0) >= 25 },
            { id: 'wizard5', name: "Ladd's Gravity Toggle", icon: 'üéöÔ∏è', description: 'On/off switch for physics. Basements are twice as efficient', cost: 16500000000000, effect: () => { gameState.buildingMultipliers['wizard'] = (gameState.buildingMultipliers['wizard'] || 1) * 2; }, requires: () => (gameState.buildings.wizard || 0) >= 50 }
        );
        
        // Interdimensional Drive-Thru (shipment) upgrades
        upgrades.push(
            { id: 'shipment1', name: "Nathan's Void Menu", icon: 'üìã', description: 'Items from impossible places. Drive-Thrus are twice as efficient', cost: 51000000000, effect: () => { gameState.buildingMultipliers['shipment'] = (gameState.buildingMultipliers['shipment'] || 1) * 2; }, requires: () => (gameState.buildings.shipment || 0) >= 1 },
            { id: 'shipment2', name: "Ladd's Time-Loop Fries", icon: 'üçü', description: 'Always hot. Always fresh. Drive-Thrus are twice as efficient', cost: 255000000000, effect: () => { gameState.buildingMultipliers['shipment'] = (gameState.buildingMultipliers['shipment'] || 1) * 2; }, requires: () => (gameState.buildings.shipment || 0) >= 5 },
            { id: 'shipment3', name: "Nathan's Phase-Shift Soda", icon: 'ü•§', description: 'Exists in multiple states. Drive-Thrus are twice as efficient', cost: 2550000000000, effect: () => { gameState.buildingMultipliers['shipment'] = (gameState.buildingMultipliers['shipment'] || 1) * 2; }, requires: () => (gameState.buildings.shipment || 0) >= 10 },
            { id: 'shipment4', name: "Ladd's Quantum Napkins", icon: 'üßª', description: 'Clean spills that haven\'t happened yet. Drive-Thrus are twice as efficient', cost: 25500000000000, effect: () => { gameState.buildingMultipliers['shipment'] = (gameState.buildingMultipliers['shipment'] || 1) * 2; }, requires: () => (gameState.buildings.shipment || 0) >= 25 },
            { id: 'shipment5', name: "Nathan's Portal Pickles", icon: 'ü•í', description: 'Sourced from parallel timelines. Drive-Thrus are twice as efficient', cost: 255000000000000, effect: () => { gameState.buildingMultipliers['shipment'] = (gameState.buildingMultipliers['shipment'] || 1) * 2; }, requires: () => (gameState.buildings.shipment || 0) >= 50 }
        );
        
        // Spaghetti Reactor (alchemy) upgrades
        upgrades.push(
            { id: 'alchemy1', name: "Ladd's Meatball Core", icon: 'üçù', description: 'Powers everything with pasta. Reactors are twice as efficient', cost: 750000000000, effect: () => { gameState.buildingMultipliers['alchemy'] = (gameState.buildingMultipliers['alchemy'] || 1) * 2; }, requires: () => (gameState.buildings.alchemy || 0) >= 1 },
            { id: 'alchemy2', name: "Nathan's Sauce Coolant", icon: 'ü•´', description: 'Prevents overheating. Reactors are twice as efficient', cost: 3750000000000, effect: () => { gameState.buildingMultipliers['alchemy'] = (gameState.buildingMultipliers['alchemy'] || 1) * 2; }, requires: () => (gameState.buildings.alchemy || 0) >= 5 },
            { id: 'alchemy3', name: "Ladd's Noodle Rods", icon: 'üçú', description: 'Control the reaction rate. Reactors are twice as efficient', cost: 37500000000000, effect: () => { gameState.buildingMultipliers['alchemy'] = (gameState.buildingMultipliers['alchemy'] || 1) * 2; }, requires: () => (gameState.buildings.alchemy || 0) >= 10 },
            { id: 'alchemy4', name: "Nathan's Parmesan Shield", icon: 'üßÄ', description: 'Protects from explosions. Reactors are twice as efficient', cost: 375000000000000, effect: () => { gameState.buildingMultipliers['alchemy'] = (gameState.buildingMultipliers['alchemy'] || 1) * 2; }, requires: () => (gameState.buildings.alchemy || 0) >= 25 },
            { id: 'alchemy5', name: "Ladd's Fusion Fusilli", icon: 'üåÄ', description: 'Twists energy into existence. Reactors are twice as efficient', cost: 3750000000000000, effect: () => { gameState.buildingMultipliers['alchemy'] = (gameState.buildingMultipliers['alchemy'] || 1) * 2; }, requires: () => (gameState.buildings.alchemy || 0) >= 50 }
        );
        
        // Clone Recycling Center (portal) upgrades
        upgrades.push(
            { id: 'portal1', name: "Nathan's Quality Control", icon: '‚úÖ', description: 'Sorts clones by usefulness. Centers are twice as efficient', cost: 10000000000000, effect: () => { gameState.buildingMultipliers['portal'] = (gameState.buildingMultipliers['portal'] || 1) * 2; }, requires: () => (gameState.buildings.portal || 0) >= 1 },
            { id: 'portal2', name: "Ladd's Refurbisher", icon: 'üîß', description: 'Fixes minor defects. Centers are twice as efficient', cost: 50000000000000, effect: () => { gameState.buildingMultipliers['portal'] = (gameState.buildingMultipliers['portal'] || 1) * 2; }, requires: () => (gameState.buildings.portal || 0) >= 5 },
            { id: 'portal3', name: "Nathan's Retraining Program", icon: 'üìö', description: 'Teaches clones new skills. Centers are twice as efficient', cost: 500000000000000, effect: () => { gameState.buildingMultipliers['portal'] = (gameState.buildingMultipliers['portal'] || 1) * 2; }, requires: () => (gameState.buildings.portal || 0) >= 10 },
            { id: 'portal4', name: "Ladd's Personality Reboot", icon: 'üîÑ', description: 'Fresh start for defective clones. Centers are twice as efficient', cost: 5000000000000000, effect: () => { gameState.buildingMultipliers['portal'] = (gameState.buildingMultipliers['portal'] || 1) * 2; }, requires: () => (gameState.buildings.portal || 0) >= 25 },
            { id: 'portal5', name: "Nathan's Clone Optimizer", icon: '‚öôÔ∏è', description: 'Maximum efficiency mode. Centers are twice as efficient', cost: 50000000000000000, effect: () => { gameState.buildingMultipliers['portal'] = (gameState.buildingMultipliers['portal'] || 1) * 2; }, requires: () => (gameState.buildings.portal || 0) >= 50 }
        );
        
        // Screaming Library (timemachine) upgrades
        upgrades.push(
            { id: 'timemachine1', name: "Ladd's Noise-Canceling Earplugs", icon: 'üéß', description: 'For the librarians. Libraries are twice as efficient', cost: 140000000000000, effect: () => { gameState.buildingMultipliers['timemachine'] = (gameState.buildingMultipliers['timemachine'] || 1) * 2; }, requires: () => (gameState.buildings.timemachine || 0) >= 1 },
            { id: 'timemachine2', name: "Nathan's Volume Amplifier", icon: 'üì¢', description: 'Makes books even louder. Libraries are twice as efficient', cost: 700000000000000, effect: () => { gameState.buildingMultipliers['timemachine'] = (gameState.buildingMultipliers['timemachine'] || 1) * 2; }, requires: () => (gameState.buildings.timemachine || 0) >= 5 },
            { id: 'timemachine3', name: "Ladd's Speed Reader", icon: '‚ö°', description: 'Books scream faster. Libraries are twice as efficient', cost: 7000000000000000, effect: () => { gameState.buildingMultipliers['timemachine'] = (gameState.buildingMultipliers['timemachine'] || 1) * 2; }, requires: () => (gameState.buildings.timemachine || 0) >= 10 },
            { id: 'timemachine4', name: "Nathan's Echo Enhancement", icon: 'üîä', description: 'Screams reverberate forever. Libraries are twice as efficient', cost: 70000000000000000, effect: () => { gameState.buildingMultipliers['timemachine'] = (gameState.buildingMultipliers['timemachine'] || 1) * 2; }, requires: () => (gameState.buildings.timemachine || 0) >= 25 },
            { id: 'timemachine5', name: "Ladd's Sonic Index", icon: 'üìñ', description: 'Organizes screams by pitch. Libraries are twice as efficient', cost: 700000000000000000, effect: () => { gameState.buildingMultipliers['timemachine'] = (gameState.buildingMultipliers['timemachine'] || 1) * 2; }, requires: () => (gameState.buildings.timemachine || 0) >= 50 }
        );
        
        // Portal Garage (antimatter) upgrades
        upgrades.push(
            { id: 'antimatter1', name: "Nathan's Return Policy", icon: '‚Ü©Ô∏è', description: 'Cars can come back. Sometimes. Garages are twice as efficient', cost: 1700000000000000, effect: () => { gameState.buildingMultipliers['antimatter'] = (gameState.buildingMultipliers['antimatter'] || 1) * 2; }, requires: () => (gameState.buildings.antimatter || 0) >= 1 },
            { id: 'antimatter2', name: "Ladd's Dimensional GPS", icon: 'üó∫Ô∏è', description: 'Navigation across realities. Garages are twice as efficient', cost: 8500000000000000, effect: () => { gameState.buildingMultipliers['antimatter'] = (gameState.buildingMultipliers['antimatter'] || 1) * 2; }, requires: () => (gameState.buildings.antimatter || 0) >= 5 },
            { id: 'antimatter3', name: "Nathan's Valet Service", icon: 'üé©', description: 'Parks your car in alternate timelines. Garages are twice as efficient', cost: 85000000000000000, effect: () => { gameState.buildingMultipliers['antimatter'] = (gameState.buildingMultipliers['antimatter'] || 1) * 2; }, requires: () => (gameState.buildings.antimatter || 0) >= 10 },
            { id: 'antimatter4', name: "Ladd's Portal Wax", icon: '‚ú®', description: 'Makes portals shiny. Garages are twice as efficient', cost: 850000000000000000, effect: () => { gameState.buildingMultipliers['antimatter'] = (gameState.buildingMultipliers['antimatter'] || 1) * 2; }, requires: () => (gameState.buildings.antimatter || 0) >= 25 },
            { id: 'antimatter5', name: "Nathan's Universe Selector", icon: 'üåç', description: 'Choose your destination reality. Garages are twice as efficient', cost: 8500000000000000000, effect: () => { gameState.buildingMultipliers['antimatter'] = (gameState.buildingMultipliers['antimatter'] || 1) * 2; }, requires: () => (gameState.buildings.antimatter || 0) >= 50 }
        );
        
        // Orb Hatchery (prism) upgrades
        upgrades.push(
            { id: 'prism1', name: "Ladd's Orb Incubator", icon: 'ü•ö', description: 'Keeps orbs warm and mysterious. Hatcheries are twice as efficient', cost: 21000000000000000, effect: () => { gameState.buildingMultipliers['prism'] = (gameState.buildingMultipliers['prism'] || 1) * 2; }, requires: () => (gameState.buildings.prism || 0) >= 1 },
            { id: 'prism2', name: "Nathan's Glow Enhancer", icon: 'üí°', description: 'Orbs glow brighter. Hatcheries are twice as efficient', cost: 105000000000000000, effect: () => { gameState.buildingMultipliers['prism'] = (gameState.buildingMultipliers['prism'] || 1) * 2; }, requires: () => (gameState.buildings.prism || 0) >= 5 },
            { id: 'prism3', name: "Ladd's Orb Whisperer", icon: 'üó£Ô∏è', description: 'Communicates with orbs. Hatcheries are twice as efficient', cost: 1050000000000000000, effect: () => { gameState.buildingMultipliers['prism'] = (gameState.buildingMultipliers['prism'] || 1) * 2; }, requires: () => (gameState.buildings.prism || 0) >= 10 },
            { id: 'prism4', name: "Nathan's Safety Manual (Ignored)", icon: 'üìã', description: 'Nobody reads it anyway. Hatcheries are twice as efficient', cost: 10500000000000000000, effect: () => { gameState.buildingMultipliers['prism'] = (gameState.buildingMultipliers['prism'] || 1) * 2; }, requires: () => (gameState.buildings.prism || 0) >= 25 },
            { id: 'prism5', name: "Ladd's Orb Accelerator", icon: 'üöÄ', description: 'Speeds up hatching process. Hatcheries are twice as efficient', cost: 105000000000000000000, effect: () => { gameState.buildingMultipliers['prism'] = (gameState.buildingMultipliers['prism'] || 1) * 2; }, requires: () => (gameState.buildings.prism || 0) >= 50 }
        );
        
        // Infinite Bathroom (chancemaker) upgrades
        upgrades.push(
            { id: 'chancemaker1', name: "Nathan's Plunger of Power", icon: 'ü™†', description: 'Unclogs the impossible. Bathrooms are twice as efficient', cost: 260000000000000000, effect: () => { gameState.buildingMultipliers['chancemaker'] = (gameState.buildingMultipliers['chancemaker'] || 1) * 2; }, requires: () => (gameState.buildings.chancemaker || 0) >= 1 },
            { id: 'chancemaker2', name: "Ladd's Endless Toilet Paper", icon: 'üßª', description: 'Truly infinite. Bathrooms are twice as efficient', cost: 1300000000000000000, effect: () => { gameState.buildingMultipliers['chancemaker'] = (gameState.buildingMultipliers['chancemaker'] || 1) * 2; }, requires: () => (gameState.buildings.chancemaker || 0) >= 5 },
            { id: 'chancemaker3', name: "Nathan's Flush Multiplier", icon: 'üåä', description: 'One flush becomes many. Bathrooms are twice as efficient', cost: 13000000000000000000, effect: () => { gameState.buildingMultipliers['chancemaker'] = (gameState.buildingMultipliers['chancemaker'] || 1) * 2; }, requires: () => (gameState.buildings.chancemaker || 0) >= 10 },
            { id: 'chancemaker4', name: "Ladd's Soap Dispenser of Mystery", icon: 'üßº', description: 'Cleans things that don\'t exist. Bathrooms are twice as efficient', cost: 130000000000000000000, effect: () => { gameState.buildingMultipliers['chancemaker'] = (gameState.buildingMultipliers['chancemaker'] || 1) * 2; }, requires: () => (gameState.buildings.chancemaker || 0) >= 25 },
            { id: 'chancemaker5', name: "Nathan's Perpetual Drain", icon: 'üï≥Ô∏è', description: 'Goes nowhere and everywhere. Bathrooms are twice as efficient', cost: 1300000000000000000000, effect: () => { gameState.buildingMultipliers['chancemaker'] = (gameState.buildingMultipliers['chancemaker'] || 1) * 2; }, requires: () => (gameState.buildings.chancemaker || 0) >= 50 }
        );

        // Global multiplier upgrades (50)
        for (let i = 1; i <= 50; i++) {
            upgrades.push({
                id: `global${i}`,
                name: `Production Boost ${i}`,
                icon: '‚ö°',
                description: `All production √ó${1 + i * 0.1}`,
                cost: 1000 * Math.pow(10, i),
                effect: () => { gameState.globalMultiplier *= (1 + i * 0.1); },
                requires: () => gameState.totalCookies >= 1000 * Math.pow(10, i - 1)
            });
        }

        // Special combo upgrades (50)
        const specialNames = [
            "Nathan's Left Sock", "Super Ladd Slap", "Microwave Brainwave", "Quantum Toaster", "Caffeinated Eyeball",
            "Invisible Chair", "Ladd Slime Clone", "Motivational Shriek", "Forbidden Chicken Nugget", "Pocket Dimension of Bees",
            "Megaphone of Destiny", "Extra Elbow", "Screaming Shoes", "Sock Detector 3000", "Toenail of Destiny",
            "Growth Hormone (Expired)", "Orb of Mild Confusion", "Safety Goggles (Decorative)", "Burrito Telescope", "Hot Sauce of Enlightenment",
            "Telepathic Burrito", "Spaghetti Defense System", "Haunted Fishstick", "Cursed Spatula", "Bluetooth Wisdom Tooth",
            "Rubber Duck of Power", "Mystical Lint Collection", "Portal-Proof Underwear", "Anti-Gravity Hairgel", "Dimensional Shoelaces",
            "Quantum Banana", "Psychic Toothbrush", "Infinite Paperclip", "Cosmic Doorknob", "Ethereal Cheese Grater",
            "Sentient Calculator", "Hypnotic Yo-Yo", "Levitating Sandwich", "Magnetic Personality", "Radioactive Smoothie",
            "Time-Traveling Socks", "Holographic Mustache", "Interdimensional Napkin", "Subliminal Messages", "Quantum Entangled Spaghetti",
            "Perpetual Motion Bean", "Dark Matter Donut", "Wormhole Wallet", "Parallel Universe Mirror", "Schr√∂dinger's Cookie"
        ];
        
        specialNames.forEach((name, i) => {
            upgrades.push({
                id: `special${i}`,
                name: name,
                icon: ['üß¶','üëã','üì°','üçû','üëÅÔ∏è','üí∫','üü¢','üì¢','üçó','üêù','üì£','üí™','üëü','üîç','ü¶∂','üíâ','üîÆ','ü•Ω','üî≠','üå∂Ô∏è','üß†','üçù','üêü','üç¥','ü¶∑','ü¶Ü','üßµ','ü©≤','üíà','üëü','üçå','ü™•','üìé','üö™','üßÄ','üßÆ','ü™Ä','ü•™','üß≤','ü•§','üß¶','ü•∏','üßª','üí¨','üçù','ü´ò','üç©','üíº','ü™û','üç™'][i],
                description: `Random powerful effect! Production √ó${2 + i}`,
                cost: 50000 * Math.pow(100, i),
                effect: () => { gameState.globalMultiplier *= (2 + i); },
                requires: () => gameState.totalCookies >= 10000 * Math.pow(100, i)
            });
        });

        // Achievements - 100+ achievements!
        const achievements = [];
        
        // Cookie milestones (25)
        const cookieMilestones = [
            { cookies: 1, name: 'Wake and bake', desc: 'Bake 1 cookie', icon: 'üç™' },
            { cookies: 100, name: 'Making some dough', desc: 'Bake 100 cookies', icon: 'üç™' },
            { cookies: 1000, name: 'So baked right now', desc: 'Bake 1,000 cookies', icon: 'üç™' },
            { cookies: 10000, name: 'Fledgling bakery', desc: 'Bake 10,000 cookies', icon: 'üç™' },
            { cookies: 100000, name: 'Affluent', desc: 'Bake 100,000 cookies', icon: 'üí∞' },
            { cookies: 1000000, name: 'World-famous', desc: 'Bake 1 million cookies', icon: 'üåç' },
            { cookies: 10000000, name: 'Cosmic baker', desc: 'Bake 10 million cookies', icon: 'üåå' },
            { cookies: 100000000, name: 'Galactic god', desc: 'Bake 100 million cookies', icon: '‚≠ê' },
            { cookies: 1000000000, name: 'Cookieverse', desc: 'Bake 1 billion cookies', icon: 'üå†' },
            { cookies: 10000000000, name: 'You can stop now', desc: 'Bake 10 billion cookies', icon: 'üî•' },
            { cookies: 100000000000, name: 'Uncanny', desc: 'Bake 100 billion cookies', icon: 'üëΩ' },
            { cookies: 1000000000000, name: 'Transcendent', desc: 'Bake 1 trillion cookies', icon: '‚ú®' },
            { cookies: 10000000000000, name: 'Eternal', desc: 'Bake 10 trillion cookies', icon: '‚ôæÔ∏è' },
            { cookies: 100000000000000, name: 'Infinite', desc: 'Bake 100 trillion cookies', icon: '‚àû' },
            { cookies: 1000000000000000, name: 'Beyond comprehension', desc: 'Bake 1 quadrillion cookies', icon: 'üåå' },
            { cookies: 10000000000000000, name: 'Deity', desc: 'Bake 10 quadrillion cookies', icon: 'üëë' },
            { cookies: 100000000000000000, name: 'Omnipotent', desc: 'Bake 100 quadrillion cookies', icon: 'üíé' },
            { cookies: 1000000000000000000, name: 'Impossible', desc: 'Bake 1 quintillion cookies', icon: 'üéØ' },
            { cookies: 10000000000000000000, name: 'Not enough RAM', desc: 'Bake 10 quintillion cookies', icon: 'üíª' },
            { cookies: 100000000000000000000, name: 'Game over', desc: 'Bake 100 quintillion cookies', icon: 'üèÜ' },
            { cookies: 1e21, name: 'You win', desc: 'Bake 1 sextillion cookies', icon: 'üéâ' },
            { cookies: 1e24, name: 'Seriously?', desc: 'Bake 1 septillion cookies', icon: 'üò±' },
            { cookies: 1e27, name: 'Stop it', desc: 'Bake 1 octillion cookies', icon: 'üõë' },
            { cookies: 1e30, name: "I'm impressed", desc: 'Bake 1 nonillion cookies', icon: 'üëè' },
            { cookies: 1e33, name: 'Ultimate baker', desc: 'Bake 1 decillion cookies', icon: 'üî±' }
        ];
        
        cookieMilestones.forEach((m, i) => {
            achievements.push({
                id: `cookies${i}`,
                name: m.name,
                description: m.desc,
                icon: m.icon,
                check: () => gameState.totalCookies >= m.cookies
            });
        });

        // Click achievements (15)
        const clickMilestones = [100, 1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000, 10000000000, 100000000000, 1e12, 1e15, 1e18, 1e21, 1e24];
        const clickNames = ['Clicktastic', 'Clickathlon', 'Clickorama', 'Clickasmic', 'Clickataclysm', 'Click god', 'Click deity', 'Click master', 'Click legend', 'Click eternal', 'Click infinite', 'Click transcendent', 'Click cosmic', 'Click universal', 'Click omnipotent'];
        clickMilestones.forEach((count, i) => {
            achievements.push({
                id: `clicks${i}`,
                name: clickNames[i],
                description: `Click ${formatNumber(count)} times`,
                icon: 'üëÜ',
                check: () => gameState.totalClicks >= count
            });
        });

        // Hand-made achievements (10)
        const handMilestones = [1000, 100000, 10000000, 1000000000, 100000000000, 1e13, 1e15, 1e18, 1e21, 1e24];
        const handNames = ['Handmade', 'Mass producer', 'Cookie vortex', 'Hand god', 'Finger of doom', 'Palm of power', 'Wrist of wonder', 'Arm of ascension', 'Hand of eternity', 'Ultimate clicker'];
        handMilestones.forEach((count, i) => {
            achievements.push({
                id: `hand${i}`,
                name: handNames[i],
                description: `Make ${formatNumber(count)} cookies by clicking`,
                icon: '‚úã',
                check: () => gameState.handMade >= count
            });
        });

        // Building achievements (15 buildings √ó 4 = 60)
        buildings.forEach(building => {
            [1, 50, 100, 200].forEach((count, i) => {
                achievements.push({
                    id: `${building.id}_${count}`,
                    name: `${building.name} √ó${count}`,
                    description: `Own ${count} ${building.name}s`,
                    icon: building.icon,
                    check: () => (gameState.buildings[building.id] || 0) >= count
                });
            });
        });

        // CPS achievements (10)
        const cpsMilestones = [10, 100, 1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000, 10000000000];
        const cpsNames = ['Casual baking', 'Hardcore baking', 'Steady stream', 'Cookie automaton', 'Cookie machine', 'Cookie factory', 'Cookie powerplant', 'Cookie singularity', 'Cookie multiverse', 'Cookie omnipresence'];
        cpsMilestones.forEach((cps, i) => {
            achievements.push({
                id: `cps${i}`,
                name: cpsNames[i],
                description: `Produce ${formatNumber(cps)} cookies per second`,
                icon: '‚ö°',
                check: () => gameState.cookiesPerSecond >= cps
            });
        });

        // Golden Ladd achievements (5)
        [1, 10, 100, 1000, 10000].forEach((count, i) => {
            achievements.push({
                id: `golden${i}`,
                name: ['Lucky day', 'Extremely lucky', 'Fortuitous', 'Golden master', 'Golden god'][i],
                description: `Click ${count} golden Ladds`,
                icon: 'üçÄ',
                check: () => gameState.goldenClicks >= count
            });
        });

        // Sound System
        let audioContext = null;

        function playSound(frequencies, duration, type = 'sine', volume = 0.15) {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
            
            frequencies.forEach((freq, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = freq;
                oscillator.type = type;
                
                const delay = index * 0.02;
                gainNode.gain.setValueAtTime(volume, audioContext.currentTime + delay);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + delay + duration);
                
                oscillator.start(audioContext.currentTime + delay);
                oscillator.stop(audioContext.currentTime + delay + duration);
            });
        }

        function playClickSound() {
            playSound([800, 1200, 1600], 0.08, 'sine', 0.12);
        }

        function playBuySound() {
            playSound([523.25, 659.25, 783.99], 0.15, 'triangle', 0.18);
        }

        function playGoldenSound() {
            playSound([1046.50, 1318.51, 1567.98, 2093.00], 0.25, 'sine', 0.2);
        }

        function playButtonSound() {
            playSound([600, 800], 0.06, 'square', 0.08);
        }

        // Cookie Click
        function clickCookie(event) {
            const prestigeBonus = gameState.prestigeLevel * 0.01;
            const goldenBonus = Date.now() < gameState.goldenMultiplierExpires ? gameState.goldenMultiplier : 1;
            const clickValue = gameState.clickPower * (1 + prestigeBonus) * goldenBonus;
            
            gameState.cookies += clickValue;
            gameState.totalCookies += clickValue;
            gameState.totalClicks++;
            gameState.handMade += clickValue;

            playClickSound();

            // Bounce animation
            const cookie = document.getElementById('bigCookie');
            cookie.classList.remove('cookieBounce');
            void cookie.offsetWidth;
            cookie.classList.add('cookieBounce');

            // Add ripple effect
            const ripple = document.createElement('div');
            ripple.className = 'ripple';
            ripple.style.left = (event.clientX - 150) + 'px';
            ripple.style.top = (event.clientY - 150) + 'px';
            document.body.appendChild(ripple);
            setTimeout(() => ripple.remove(), 600);

            // Spawn falling Ladd from sky
            spawnFallingLadd(event.clientX);

            // Spawn MORE particles (12 during click frenzy, 7 normally)
            const particleCount = goldenBonus > 1 ? 12 : 7;
            for (let i = 0; i < particleCount; i++) {
                setTimeout(() => {
                    const isBig = Math.random() > 0.7;
                    spawnParticle(event.clientX, event.clientY, isBig);
                }, i * 15);
            }

            // Screen shake on big clicks
            if (clickValue > gameState.cookiesPerSecond * 10) {
                const center = document.getElementById('centerColumn');
                center.classList.add('shake');
                setTimeout(() => {
                    center.classList.remove('shake');
                }, 300);
            }

            // Floating text
            showFloatingText(event.clientX, event.clientY, `+${formatNumber(clickValue)}`);

            updateDisplay();
            checkAchievements();
        }

        function spawnFallingLadd(x) {
            const ladd = document.createElement('img');
            ladd.className = 'fallingLadd';
            ladd.src = 'https://github.com/westval/cookie-clicker-assets/blob/main/image-removebg-preview.png?raw=true';
            ladd.draggable = false;
            ladd.style.left = (x - 30 + (Math.random() * 60 - 30)) + 'px';
            ladd.style.top = '-100px';
            
            document.body.appendChild(ladd);
            setTimeout(() => ladd.remove(), 1500);
        }

        function spawnParticle(x, y, isBig = false) {
            const particle = document.createElement('div');
            particle.className = isBig ? 'particle particle-big particleFloat' : 'particle particleFloat';
            
            const img = document.createElement('img');
            img.src = 'https://github.com/westval/cookie-clicker-assets/blob/main/image-removebg-preview.png?raw=true';
            img.draggable = false;
            particle.appendChild(img);
            
            const angle = Math.random() * Math.PI * 2;
            const distance = isBig ? 80 + Math.random() * 120 : 60 + Math.random() * 100;
            const tx = Math.cos(angle) * distance;
            const ty = Math.sin(angle) * distance - (isBig ? 80 : 60);
            const rotation = Math.random() * 720 - 360;
            
            particle.style.setProperty('--tx', tx + 'px');
            particle.style.setProperty('--ty', ty + 'px');
            particle.style.setProperty('--rotation', rotation + 'deg');
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            
            document.body.appendChild(particle);
            setTimeout(() => particle.remove(), isBig ? 1200 : 1000);
        }

        function showFloatingText(x, y, text) {
            const floater = document.createElement('div');
            floater.className = 'floatingText';
            floater.textContent = text;
            floater.style.left = x + 'px';
            floater.style.top = y + 'px';
            
            document.body.appendChild(floater);
            setTimeout(() => floater.remove(), 1000);
        }

        // Buy Amount
        function setBuyAmount(amount) {
            gameState.buyAmount = amount;
            playButtonSound();
            
            document.querySelectorAll('.buyAmountBtn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            renderBuildings();
        }

        // Buy effect
        function showBuyEffect(x, y, icon) {
            // Burst effect
            const burst = document.createElement('div');
            burst.className = 'buyBurst';
            burst.style.left = x + 'px';
            burst.style.top = y + 'px';
            document.body.appendChild(burst);
            setTimeout(() => burst.remove(), 400);

            // Spawn 4 icon particles
            for (let i = 0; i < 4; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'buyParticle';
                    particle.textContent = icon;
                    
                    const angle = (Math.PI * 2 / 4) * i + Math.random() * 0.5;
                    const distance = 40 + Math.random() * 30;
                    const tx = Math.cos(angle) * distance;
                    const ty = Math.sin(angle) * distance - 30;
                    const rotation = Math.random() * 360 - 180;
                    
                    particle.style.setProperty('--tx', tx + 'px');
                    particle.style.setProperty('--ty', ty + 'px');
                    particle.style.setProperty('--rotation', rotation + 'deg');
                    particle.style.left = x + 'px';
                    particle.style.top = y + 'px';
                    
                    document.body.appendChild(particle);
                    setTimeout(() => particle.remove(), 600);
                }, i * 30);
            }
        }

        // Buy Building
        function buyBuilding(buildingId) {
            const building = buildings.find(b => b.id === buildingId);
            const currentCount = gameState.buildings[buildingId] || 0;
            
            let amountToBuy = gameState.buyAmount;
            let totalCost = 0;
            
            if (gameState.buyAmount === 'max') {
                amountToBuy = 0;
                while (true) {
                    const cost = Math.floor(building.baseCost * Math.pow(1.15, currentCount + amountToBuy));
                    if (totalCost + cost > gameState.cookies) break;
                    totalCost += cost;
                    amountToBuy++;
                    if (amountToBuy >= 1000) break;
                }
            } else {
                for (let i = 0; i < amountToBuy; i++) {
                    totalCost += Math.floor(building.baseCost * Math.pow(1.15, currentCount + i));
                }
            }
            
            if (gameState.cookies >= totalCost && amountToBuy > 0) {
                gameState.cookies -= totalCost;
                gameState.buildings[buildingId] = currentCount + amountToBuy;
                
                playBuySound();
                
                // Show buy effect at mouse position
                if (event && event.clientX) {
                    showBuyEffect(event.clientX, event.clientY, building.icon);
                }
                
                if (buildingId === 'cursor') {
                    renderCursorOrbiters();
                }
                
                calculateCPS();
                renderBuildings(); // Re-render to update glow states
                renderUpgrades();
                updateDisplay();
                checkAchievements();
            }
        }

        // Buy Upgrade
        function buyUpgrade(upgradeId) {
            const upgrade = upgrades.find(u => u.id === upgradeId);
            
            if (gameState.cookies >= upgrade.cost && !gameState.upgrades[upgradeId]) {
                gameState.cookies -= upgrade.cost;
                gameState.upgrades[upgradeId] = true;
                
                upgrade.effect();
                playBuySound();
                
                // Show buy effect at mouse position
                if (event && event.clientX) {
                    showBuyEffect(event.clientX, event.clientY, upgrade.icon);
                }
                
                calculateCPS();
                renderBuildings(); // Re-render to update glow states
                renderUpgrades();
                updateDisplay();
                checkAchievements();
            }
        }

        // Calculate CPS
        function calculateCPS() {
            let cps = 0;
            
            buildings.forEach(building => {
                const count = gameState.buildings[building.id] || 0;
                const multiplier = gameState.buildingMultipliers[building.id] || 1;
                cps += building.cps * count * multiplier;
            });
            
            const prestigeMultiplier = calculatePrestigeMultiplier();
            const frenzyBonus = Date.now() < gameState.frenzyExpires ? gameState.frenzyMultiplier : 1;
            
            gameState.cookiesPerSecond = cps * gameState.globalMultiplier * prestigeMultiplier * frenzyBonus;
        }

        // Render Buildings
        function renderBuildings() {
            const container = document.getElementById('buildingsContainer');
            
            // Calculate all building data
            const buildingData = buildings.map(building => {
                const count = gameState.buildings[building.id] || 0;
                const multiplier = gameState.buildingMultipliers[building.id] || 1;
                const totalCps = building.cps * count * multiplier;
                
                let displayCost = 0;
                let amountToBuy = gameState.buyAmount;
                
                if (gameState.buyAmount === 'max') {
                    amountToBuy = 0;
                    let totalCost = 0;
                    while (true) {
                        const cost = Math.floor(building.baseCost * Math.pow(1.15, count + amountToBuy));
                        if (totalCost + cost > gameState.cookies) break;
                        totalCost += cost;
                        amountToBuy++;
                        if (amountToBuy >= 1000) break;
                    }
                    displayCost = 0;
                    for (let i = 0; i < amountToBuy; i++) {
                        displayCost += Math.floor(building.baseCost * Math.pow(1.15, count + i));
                    }
                } else {
                    for (let i = 0; i < amountToBuy; i++) {
                        displayCost += Math.floor(building.baseCost * Math.pow(1.15, count + i));
                    }
                }
                
                const canAfford = gameState.cookies >= displayCost && displayCost > 0;
                
                return { building, count, totalCps, displayCost, canAfford };
            });
            
            // Check if we need to rebuild
            const needsRebuild = container.children.length !== buildings.length;
            
            if (needsRebuild) {
                container.innerHTML = '';
                
                buildingData.forEach(({ building, count, totalCps, displayCost, canAfford }) => {
                    const div = document.createElement('div');
                    div.className = `product ${canAfford ? 'enabled' : 'locked'}`;
                    div.dataset.buildingId = building.id;
                    
                    div.addEventListener('mousedown', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        const currentData = buildingData.find(b => b.building.id === building.id);
                        if (gameState.cookies >= currentData.displayCost && currentData.displayCost > 0) {
                            this.classList.add('pressed');
                            setTimeout(() => this.classList.remove('pressed'), 150);
                            buyBuilding(building.id);
                        }
                    });
                    
                    // Tooltip
                    div.addEventListener('mouseenter', function(e) {
                        const currentData = buildingData.find(b => b.building.id === building.id);
                        showTooltip(e, building.name, building.description, currentData.displayCost, currentData.totalCps);
                    });
                    div.addEventListener('mouseleave', hideTooltip);
                    div.addEventListener('mousemove', function(e) {
                        if (tooltip) {
                            let x = e.pageX + 20;
                            let y = e.pageY;
                            
                            if (x + tooltip.offsetWidth > window.innerWidth) {
                                x = e.pageX - tooltip.offsetWidth - 20;
                            }
                            if (y + tooltip.offsetHeight > window.innerHeight) {
                                y = window.innerHeight - tooltip.offsetHeight - 10;
                            }
                            if (y < 10) y = 10;
                            
                            tooltip.style.left = x + 'px';
                            tooltip.style.top = y + 'px';
                        }
                    });
                    
                    div.innerHTML = `
                        <div class="product-inner">
                            <div class="productIcon">${building.icon}</div>
                            <div class="productInfo">
                                <div class="productName">${building.name}</div>
                                <div class="productPrice">${formatNumber(displayCost)}</div>
                            </div>
                            <div class="productOwned">${count}</div>
                        </div>
                    `;
                    
                    container.appendChild(div);
                });
            } else {
                // Just update classes and prices
                buildingData.forEach(({ building, count, displayCost, canAfford }, index) => {
                    const div = container.children[index];
                    if (div) {
                        // Update glow state
                        if (canAfford) {
                            div.classList.add('enabled');
                            div.classList.remove('locked');
                        } else {
                            div.classList.remove('enabled');
                            div.classList.add('locked');
                        }
                        
                        // Update price and count
                        const priceEl = div.querySelector('.productPrice');
                        const ownedEl = div.querySelector('.productOwned');
                        if (priceEl) priceEl.textContent = formatNumber(displayCost);
                        if (ownedEl) ownedEl.textContent = count;
                    }
                });
            }
        }

        // Render Upgrades
        function renderUpgrades() {
            const container = document.getElementById('upgradesContainer');
            
            // Get list of visible upgrades
            const visibleUpgrades = [];
            upgrades.forEach(upgrade => {
                if (gameState.upgrades[upgrade.id]) return;
                if (!upgrade.requires()) return;
                if (visibleUpgrades.length >= 12) return; // Show max 12 at a time
                visibleUpgrades.push(upgrade);
            });
            
            // Only clear and rebuild if the list changed
            const currentIds = Array.from(container.children).map(el => el.dataset.upgradeId);
            const newIds = visibleUpgrades.map(u => u.id);
            const needsRebuild = JSON.stringify(currentIds) !== JSON.stringify(newIds);
            
            if (needsRebuild) {
                container.innerHTML = '';
                
                visibleUpgrades.forEach(upgrade => {
                    const canAfford = gameState.cookies >= upgrade.cost;
                    
                    const div = document.createElement('div');
                    div.className = `upgrade ${canAfford ? 'enabled' : 'locked'}`;
                    div.dataset.upgradeId = upgrade.id;
                    
                    div.addEventListener('mousedown', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        if (gameState.cookies >= upgrade.cost && !gameState.upgrades[upgrade.id]) {
                            this.classList.add('pressed');
                            setTimeout(() => this.classList.remove('pressed'), 150);
                            buyUpgrade(upgrade.id);
                        }
                    });
                    
                    // Tooltip with name, description, and cost
                    div.addEventListener('mouseenter', function(e) {
                        showTooltip(e, upgrade.name, upgrade.description, upgrade.cost);
                    });
                    div.addEventListener('mouseleave', hideTooltip);
                    div.addEventListener('mousemove', function(e) {
                        if (tooltip) {
                            let x = e.pageX + 20;
                            let y = e.pageY;
                            
                            if (x + tooltip.offsetWidth > window.innerWidth) {
                                x = e.pageX - tooltip.offsetWidth - 20;
                            }
                            if (y + tooltip.offsetHeight > window.innerHeight) {
                                y = window.innerHeight - tooltip.offsetHeight - 10;
                            }
                            if (y < 10) y = 10;
                            
                            tooltip.style.left = x + 'px';
                            tooltip.style.top = y + 'px';
                        }
                    });
                    
                    const inner = document.createElement('div');
                    inner.className = 'upgrade-inner';
                    inner.textContent = upgrade.icon;
                    
                    div.appendChild(inner);
                    container.appendChild(div);
                });
            } else {
                // Just update classes for existing upgrades
                visibleUpgrades.forEach((upgrade, index) => {
                    const div = container.children[index];
                    if (div) {
                        const canAfford = gameState.cookies >= upgrade.cost;
                        if (canAfford) {
                            div.classList.add('enabled');
                            div.classList.remove('locked');
                        } else {
                            div.classList.remove('enabled');
                            div.classList.add('locked');
                        }
                    }
                });
            }
        }

        let tooltip = null;

        function showTooltip(e, name, desc, cost, production = null) {
            hideTooltip();
            
            tooltip = document.createElement('div');
            tooltip.className = 'tooltip';
            
            let html = `<div class="tooltipTitle">${name}</div>`;
            html += `<div class="tooltipDesc">${desc}</div>`;
            if (production !== null && production > 0) {
                html += `<div class="tooltipDesc">Producing: ${formatNumber(production.toFixed(1))}/sec</div>`;
            }
            html += `<div class="tooltipPrice">Cost: ${formatNumber(cost)}</div>`;
            
            tooltip.innerHTML = html;
            document.body.appendChild(tooltip);
            
            let x = e.pageX + 20;
            let y = e.pageY;
            
            if (x + tooltip.offsetWidth > window.innerWidth) {
                x = e.pageX - tooltip.offsetWidth - 20;
            }
            if (y + tooltip.offsetHeight > window.innerHeight) {
                y = window.innerHeight - tooltip.offsetHeight - 10;
            }
            if (y < 10) y = 10;
            
            tooltip.style.left = x + 'px';
            tooltip.style.top = y + 'px';
        }

        function hideTooltip() {
            if (tooltip) {
                tooltip.remove();
                tooltip = null;
            }
        }

        // Render Cursor Orbiters
        function renderCursorOrbiters() {
            const container = document.getElementById('cursorOrbiter');
            container.innerHTML = '';
            
            const count = Math.min(gameState.buildings.cursor || 0, 10);
            
            for (let i = 0; i < count; i++) {
                const cursor = document.createElement('div');
                cursor.className = 'cursor-orbit';
                cursor.style.animationDuration = (3 + i * 0.1) + 's';
                cursor.style.animationDelay = (-i * 0.3) + 's';
                
                const img = document.createElement('img');
                img.src = 'https://github.com/westval/cookie-clicker-assets/blob/main/image-removebg-preview.png?raw=true';
                img.draggable = false;
                cursor.appendChild(img);
                
                container.appendChild(cursor);
            }
        }

        // Render Achievements
        function renderAchievements() {
            const container = document.getElementById('achievementsContainer');
            container.innerHTML = '';
            
            achievements.forEach(achievement => {
                const unlocked = gameState.achievements[achievement.id];
                
                const div = document.createElement('div');
                div.className = `achievement ${unlocked ? 'unlocked' : 'locked'}`;
                div.textContent = achievement.icon;
                div.title = `${achievement.name}\n${achievement.description}`;
                
                container.appendChild(div);
            });
            
            const unlockedCount = Object.keys(gameState.achievements).length;
            document.getElementById('achievementCount').textContent = unlockedCount;
            document.getElementById('achievementTotal').textContent = achievements.length;
        }

        // Check Achievements
        function checkAchievements() {
            achievements.forEach(achievement => {
                if (!gameState.achievements[achievement.id] && achievement.check()) {
                    gameState.achievements[achievement.id] = true;
                    showNotification(`üèÜ ${achievement.name}`, achievement.description);
                    renderAchievements();
                }
            });
        }

        // Update Display
        function updateDisplay() {
            document.getElementById('cookieCount').textContent = formatNumber(gameState.cookies.toFixed(1));
            document.getElementById('cookiePs').textContent = `per second: ${formatNumber(gameState.cookiesPerSecond.toFixed(1))}`;
            document.getElementById('cpc').textContent = formatNumber(gameState.clickPower);
            
            const totalBuildings = buildings.reduce((sum, b) => sum + (gameState.buildings[b.id] || 0), 0);
            document.getElementById('totalBuildings').textContent = formatNumber(totalBuildings);
            
            // Stats tab
            document.getElementById('stat-cookies').textContent = formatNumber(gameState.cookies.toFixed(1));
            document.getElementById('stat-thisRun').textContent = formatNumber(Math.floor(gameState.totalCookies));
            document.getElementById('stat-allTime').textContent = formatNumber(Math.floor(gameState.totalCookies));
            document.getElementById('stat-cps').textContent = formatNumber(gameState.cookiesPerSecond.toFixed(1));
            document.getElementById('stat-click').textContent = formatNumber(gameState.clickPower);
            document.getElementById('stat-clicks').textContent = formatNumber(gameState.totalClicks);
            document.getElementById('stat-handmade').textContent = formatNumber(Math.floor(gameState.handMade));
            document.getElementById('stat-golden').textContent = formatNumber(gameState.goldenClicks);
            document.getElementById('stat-buildings').textContent = formatNumber(totalBuildings);
            
            // Update milk
            const achievementProgress = Object.keys(gameState.achievements).length / achievements.length;
            document.getElementById('milkLevel').style.height = (achievementProgress * 100) + '%';
        }

        // Format Number
        function formatNumber(num) {
            if (num < 1000) return Math.floor(num).toString();
            if (num < 1000000) return (num / 1000).toFixed(1) + 'K';
            if (num < 1000000000) return (num / 1000000).toFixed(1) + 'M';
            if (num < 1000000000000) return (num / 1000000000).toFixed(1) + 'B';
            if (num < 1e15) return (num / 1e12).toFixed(1) + 'T';
            if (num < 1e18) return (num / 1e15).toFixed(1) + 'Qa';
            if (num < 1e21) return (num / 1e18).toFixed(1) + 'Qi';
            if (num < 1e24) return (num / 1e21).toFixed(1) + 'Sx';
            if (num < 1e27) return (num / 1e24).toFixed(1) + 'Sp';
            if (num < 1e30) return (num / 1e27).toFixed(1) + 'Oc';
            return (num / 1e30).toFixed(1) + 'No';
        }

        // Tab Switching
        function switchTab(tabName) {
            playButtonSound();
            
            document.querySelectorAll('.storeTab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            document.querySelectorAll('.tabContent').forEach(content => content.style.display = 'none');
            document.getElementById(tabName + 'Tab').style.display = 'block';
        }

        // Golden Cookie
        const goldenEffects = [
            {
                name: 'Frenzy',
                weight: 30,
                effect: () => {
                    gameState.frenzyMultiplier = 7;
                    gameState.frenzyExpires = Date.now() + 77000;
                    showNotification('üî• Frenzy!', 'Production √ó7 for 77 seconds!');
                    playGoldenSound();
                    startDiscoParty();
                }
            },
            {
                name: 'Lucky',
                weight: 25,
                effect: () => {
                    const bonus = Math.max(gameState.cookies * 0.15, gameState.cookiesPerSecond * 900);
                    gameState.cookies += bonus;
                    gameState.totalCookies += bonus;
                    showNotification('üçÄ Lucky!', `+${formatNumber(bonus)} cookies!`);
                    playGoldenSound();
                }
            },
            {
                name: 'Click Frenzy',
                weight: 15,
                effect: () => {
                    gameState.goldenMultiplier = 777;
                    gameState.goldenMultiplierExpires = Date.now() + 13000;
                    showNotification('üëÜ Click Frenzy!', 'Clicking power √ó777 for 13 seconds!');
                    playGoldenSound();
                }
            },
            {
                name: 'Building Special',
                weight: 15,
                effect: () => {
                    const bonus = gameState.cookiesPerSecond * 60;
                    gameState.cookies += bonus;
                    gameState.totalCookies += bonus;
                    showNotification('üè¢ Building Special!', `+${formatNumber(bonus)} cookies!`);
                    playGoldenSound();
                }
            },
            {
                name: 'Blab',
                weight: 15,
                effect: () => {
                    const msgs = [
                        'Nathan says: "Keep clicking!"',
                        'Ladd wisdom: "More cookies = more power"',
                        'Nathan mutters: "Where did I put my socks?"'
                    ];
                    showNotification('üí¨ Blab', msgs[Math.floor(Math.random() * msgs.length)]);
                    playClickSound();
                }
            }
        ];

        function spawnGoldenCookie() {
            const golden = document.createElement('img');
            golden.className = 'goldenCookie';
            golden.src = 'https://github.com/westval/cookie-clicker-assets/blob/main/image-removebg-preview.png?raw=true';
            golden.draggable = false;
            golden.style.left = (Math.random() * (window.innerWidth - 400) + 200) + 'px';
            golden.style.top = (Math.random() * (window.innerHeight - 200) + 100) + 'px';
            
            golden.onclick = () => {
                gameState.goldenClicks++;
                
                const totalWeight = goldenEffects.reduce((sum, e) => sum + e.weight, 0);
                let random = Math.random() * totalWeight;
                
                for (const effect of goldenEffects) {
                    random -= effect.weight;
                    if (random <= 0) {
                        effect.effect();
                        break;
                    }
                }
                
                golden.remove();
                updateDisplay();
                checkAchievements();
            };
            
            document.body.appendChild(golden);
            setTimeout(() => golden.remove(), 13000);
        }

        let discoLadds = [];

        function startDiscoParty() {
            discoLadds.forEach(ladd => ladd.remove());
            discoLadds = [];
            
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ff8800', '#ff0088'];
            for (let i = 0; i < 8; i++) {
                const ladd = document.createElement('img');
                ladd.src = 'https://github.com/westval/cookie-clicker-assets/blob/main/image-removebg-preview.png?raw=true';
                ladd.className = 'discoLadd';
                ladd.draggable = false;
                ladd.style.setProperty('--glow-color', colors[i]);
                ladd.style.left = (Math.random() * (window.innerWidth - 400) + 200) + 'px';
                ladd.style.top = (Math.random() * (window.innerHeight - 300) + 100) + 'px';
                ladd.style.animationDelay = `${i * 0.25}s`;
                
                document.body.appendChild(ladd);
                discoLadds.push(ladd);
            }
            
            setTimeout(() => {
                discoLadds.forEach(ladd => {
                    ladd.style.transition = 'opacity 1s';
                    ladd.style.opacity = '0';
                    setTimeout(() => ladd.remove(), 1000);
                });
                discoLadds = [];
            }, 77000);
        }

        function updateBuffTimer() {
            const existing = document.querySelector('.buffTimer');
            if (existing) existing.remove();
            
            const now = Date.now();
            
            if (now < gameState.frenzyExpires) {
                const remaining = Math.ceil((gameState.frenzyExpires - now) / 1000);
                const timer = document.createElement('div');
                timer.className = 'buffTimer frenzy';
                timer.textContent = `üî• FRENZY √ó7 - ${remaining}s`;
                document.body.appendChild(timer);
            } else if (now < gameState.goldenMultiplierExpires) {
                const remaining = Math.ceil((gameState.goldenMultiplierExpires - now) / 1000);
                const timer = document.createElement('div');
                timer.className = 'buffTimer clickFrenzy';
                timer.textContent = `üëÜ CLICK FRENZY √ó777 - ${remaining}s`;
                document.body.appendChild(timer);
            }
        }

        // Notification
        function showNotification(title, desc) {
            const notif = document.createElement('div');
            notif.className = 'notification';
            notif.innerHTML = `
                <div class="notificationTitle">${title}</div>
                <div class="notificationDesc">${desc}</div>
            `;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 3000);
        }

        // Bakery Name
        function editBakeryName() {
            const newName = prompt('Enter bakery name:', gameState.bakeryName);
            if (newName && newName.trim()) {
                renameBakery(newName.trim());
            }
        }

        function renameBakery(name) {
            gameState.bakeryName = name;
            document.getElementById('bakeryName').textContent = name;
            document.getElementById('bakeryNameInput').value = name;
            saveGame();
        }

        // Admin
        function checkAdminCode(code) {
            if (code.toLowerCase() === 'kirk') {
                gameState.adminUnlocked = true;
                document.getElementById('adminPanel').style.display = 'block';
                document.getElementById('adminPassword').value = '';
                showNotification('üîß Admin Access', 'Admin panel unlocked!');
            } else {
                document.getElementById('adminPassword').value = '';
                showNotification('‚ùå Access Denied', 'Incorrect code');
            }
        }

        function adminAddCookies() {
            if (!gameState.adminUnlocked) return;
            const amount = parseFloat(document.getElementById('adminCookies').value) || 0;
            gameState.cookies += amount;
            gameState.totalCookies += amount;
            updateDisplay();
            showNotification('üç™ Admin', `Added ${formatNumber(amount)} cookies`);
        }

        function adminTriggerFrenzy() {
            if (!gameState.adminUnlocked) return;
            gameState.frenzyMultiplier = 7;
            gameState.frenzyExpires = Date.now() + 77000;
            showNotification('üî• Admin Frenzy', 'Production √ó7 for 77 seconds!');
            playGoldenSound();
            startDiscoParty();
        }

        function adminTriggerClickFrenzy() {
            if (!gameState.adminUnlocked) return;
            gameState.goldenMultiplier = 777;
            gameState.goldenMultiplierExpires = Date.now() + 13000;
            showNotification('üëÜ Admin Click Frenzy', 'Clicking power √ó777 for 13 seconds!');
            playGoldenSound();
        }

        // Prestige System
        function calculatePrestigeGain() {
            if (gameState.totalCookies < 1000000000) return 0;
            return Math.floor(Math.sqrt(gameState.totalCookies / 1000000000));
        }

        function calculatePrestigeMultiplier() {
            return 1 + (gameState.heavenlyChips * 0.01);
        }

        function updatePrestigeDisplay() {
            const gain = calculatePrestigeGain();
            const multiplier = calculatePrestigeMultiplier();
            
            document.getElementById('prestigeLevelDisplay').textContent = gameState.prestigeLevel;
            document.getElementById('heavenlyChipsDisplay').textContent = formatNumber(gameState.heavenlyChips);
            document.getElementById('prestigeMultiplierDisplay').textContent = '√ó' + multiplier.toFixed(2);
            document.getElementById('prestigeGainPreview').textContent = formatNumber(gain);
            
            const button = document.getElementById('prestigeButton');
            if (gain > 0) {
                button.style.opacity = '1';
                button.style.cursor = 'pointer';
                button.disabled = false;
            } else {
                button.style.opacity = '0.5';
                button.style.cursor = 'not-allowed';
                button.disabled = true;
            }
        }

        function doPrestige() {
            const gain = calculatePrestigeGain();
            
            if (gain === 0) {
                showNotification('‚ö†Ô∏è Not Ready', 'You need at least 1 billion total cookies to prestige!');
                return;
            }
            
            if (!confirm(`Are you sure you want to prestige?\n\nYou will gain ${formatNumber(gain)} Heavenly Chips!\nYour current multiplier: √ó${calculatePrestigeMultiplier().toFixed(2)}\nNew multiplier will be: √ó${(1 + ((gameState.heavenlyChips + gain) * 0.01)).toFixed(2)}\n\nAll progress will be reset except Heavenly Chips!`)) {
                return;
            }
            
            // Grant prestige rewards
            gameState.heavenlyChips += gain;
            gameState.prestigeLevel += 1;
            
            // Reset everything
            gameState.cookies = 0;
            gameState.cookiesPerSecond = 0;
            gameState.clickPower = 1;
            gameState.totalClicks = 0;
            gameState.handMade = 0;
            gameState.buildings = {};
            gameState.upgrades = {};
            gameState.buildingMultipliers = {};
            gameState.globalMultiplier = 1;
            gameState.goldenMultiplier = 1;
            gameState.frenzyMultiplier = 1;
            
            // Show success
            showNotification('‚≠ê PRESTIGE!', `You ascended! Gained ${formatNumber(gain)} Heavenly Chips!`);
            startDiscoParty();
            
            // Update display
            renderBuildings();
            renderUpgrades();
            calculateCPS();
            updatePrestigeDisplay();
            
            playGoldenSound();
            
            saveGame();
        }

        // Save/Load
        function saveGame() {
            localStorage.setItem('laddClickerSave', JSON.stringify(gameState));
            showNotification('üíæ Saved', 'Game saved successfully!');
        }

        function exportSave() {
            const saveData = btoa(JSON.stringify(gameState));
            prompt('Copy this save code:', saveData);
        }

        function importSave() {
            const saveData = prompt('Paste your save code:');
            if (saveData) {
                try {
                    const loaded = JSON.parse(atob(saveData));
                    Object.assign(gameState, loaded);
                    location.reload();
                } catch (e) {
                    showNotification('‚ùå Error', 'Invalid save code!');
                }
            }
        }

        function resetGame() {
            localStorage.removeItem('laddClickerSave');
            location.reload();
        }

        // Initialize
        function init() {
            const saved = localStorage.getItem('laddClickerSave');
            if (saved) {
                try {
                    Object.assign(gameState, JSON.parse(saved));
                    document.getElementById('bakeryName').textContent = gameState.bakeryName;
                    document.getElementById('bakeryNameInput').value = gameState.bakeryName;
                    if (gameState.adminUnlocked) {
                        document.getElementById('adminPanel').style.display = 'block';
                    }
                } catch (e) {
                    console.error('Failed to load save:', e);
                }
            }
            
            calculateCPS();
            renderBuildings();
            renderUpgrades();
            renderCursorOrbiters();
            renderAchievements();
            updateDisplay();
            checkAchievements();
            
            // Game loop - runs every 33ms (30 FPS)
            let lastRenderTime = 0;
            setInterval(() => {
                calculateCPS();
                const gain = gameState.cookiesPerSecond / 30;
                gameState.cookies += gain;
                gameState.totalCookies += gain;
                updateDisplay();
                updateBuffTimer();
                checkAchievements();
                updatePrestigeDisplay();
                
                // Re-render buildings and upgrades every 100ms to update glow states
                const now = Date.now();
                if (now - lastRenderTime > 100) {
                    renderBuildings();
                    renderUpgrades();
                    lastRenderTime = now;
                }
            }, 33);
            
            // Auto-save
            setInterval(saveGame, 30000);
            
            // Golden cookie spawner
            setInterval(() => {
                if (Math.random() < 0.05) {
                    spawnGoldenCookie();
                }
            }, 60000);
        }

        init();
    </script>
</body>
</html>
